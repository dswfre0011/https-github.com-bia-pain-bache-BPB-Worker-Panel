const a0_0x17e9a8=a0_0x5294;(function(_0x50e85a,_0x52296a){const _0x248436=a0_0x5294,_0x56d494=_0x50e85a();while(!![]){try{const _0xbe3c4c=parseInt(_0x248436(0x205))/0x1+parseInt(_0x248436(0x245))/0x2+parseInt(_0x248436(0x246))/0x3+-parseInt(_0x248436(0x24e))/0x4*(-parseInt(_0x248436(0x1d3))/0x5)+-parseInt(_0x248436(0x237))/0x6*(parseInt(_0x248436(0x231))/0x7)+parseInt(_0x248436(0x20f))/0x8*(parseInt(_0x248436(0x1ae))/0x9)+-parseInt(_0x248436(0x223))/0xa;if(_0xbe3c4c===_0x52296a)break;else _0x56d494['push'](_0x56d494['shift']());}catch(_0x477e83){_0x56d494['push'](_0x56d494['shift']());}}}(a0_0x5166,0x8d2dd));const a0_0x11ce76=a0_0xfa49;(function(_0x2515e2,_0x1faa36){const _0x43f382=a0_0x5294,_0x4301c2=a0_0xfa49,_0x3cd7af=_0x2515e2();while(!![]){try{const _0x1e7111=-parseInt(_0x4301c2(0x13d))/0x1+parseInt(_0x4301c2(0x141))/0x2*(parseInt(_0x4301c2(0x122))/0x3)+parseInt(_0x4301c2(0xc2))/0x4*(-parseInt(_0x4301c2(0x156))/0x5)+parseInt(_0x4301c2(0x12c))/0x6+-parseInt(_0x4301c2(0x15f))/0x7+parseInt(_0x4301c2(0x128))/0x8*(-parseInt(_0x4301c2(0x100))/0x9)+parseInt(_0x4301c2(0xfe))/0xa;if(_0x1e7111===_0x1faa36)break;else _0x3cd7af['push'](_0x3cd7af[_0x43f382(0x21b)]());}catch(_0x4abcfe){_0x3cd7af['push'](_0x3cd7af['shift']());}}}(a0_0x29b2,0x5f8fb));function a0_0x4bf4(_0x4690fe,_0x186e92){const _0x5867e9=a0_0x5319();return a0_0x4bf4=function(_0x55b27f,_0x5bcc1e){_0x55b27f=_0x55b27f-0x13e;let _0x31edd1=_0x5867e9[_0x55b27f];return _0x31edd1;},a0_0x4bf4(_0x4690fe,_0x186e92);}const a0_0x4a3e4e=a0_0x4bf4;(function(_0x3160b7,_0xb6f040){const _0x2425de=a0_0x5294,_0x80de0c=a0_0xfa49,_0x3f427c=a0_0x4bf4,_0x252525=_0x3160b7();while(!![]){try{const _0x5e6991=-parseInt(_0x3f427c(0x1a2))/0x1+-parseInt(_0x3f427c(0x164))/0x2*(parseInt(_0x3f427c(0x158))/0x3)+parseInt(_0x3f427c(0x16b))/0x4+-parseInt(_0x3f427c(0x179))/0x5*(parseInt(_0x3f427c(0x1d0))/0x6)+-parseInt(_0x3f427c(0x199))/0x7+-parseInt(_0x3f427c(0x1d3))/0x8+parseInt(_0x3f427c(0x185))/0x9*(parseInt(_0x3f427c(0x1a6))/0xa);if(_0x5e6991===_0xb6f040)break;else _0x252525[_0x80de0c(0x121)](_0x252525[_0x2425de(0x21b)]());}catch(_0x5a1288){_0x252525[_0x80de0c(0x121)](_0x252525[_0x80de0c(0xdf)]());}}}(a0_0x5319,0xbc74e));import{resolveDNS,isDomain}from'../helpers/helpers';import{getConfigAddresses,extractWireguardParams,base64ToDecimal,generateRemark,randomUpperCase,getRandomPath}from'./helpers';import{getDataset}from'../kv/handlers';async function buildXrayDNS(_0x254b5b,_0x322ae2,_0x1a79ce,_0x4c98f7,_0x48ee3e){const _0x31ed63=a0_0x5294,_0x10b479=a0_0xfa49,_0x44c1d3=a0_0x4bf4,{remoteDNS:_0x46ffbd,resolvedRemoteDNS:_0xe78230,localDNS:_0x5e6e83,vlessTrojanFakeDNS:_0x3c1820,enableIPv6:_0xcd08dd,warpFakeDNS:_0x1b5e75,warpEnableIPv6:_0x423ea5,blockAds:_0x36bb10,bypassIran:_0x13884a,bypassChina:_0x49d848,blockPorn:_0xc02525,bypassRussia:_0x4e4d98,customBypassRules:_0x5ec0b7,customBlockRules:_0x4e0eff}=_0x254b5b,_0x1b3398=[{'rule':_0x13884a,'domain':_0x31ed63(0x22a),'ip':_0x44c1d3(0x1bf)},{'rule':_0x49d848,'domain':_0x44c1d3(0x167),'ip':_0x44c1d3(0x16d)},{'rule':_0x4e4d98,'domain':_0x44c1d3(0x161),'ip':_0x44c1d3(0x150)}],_0x3bc7c2=[{'rule':_0x36bb10,'host':_0x44c1d3(0x1e3)},{'rule':_0x36bb10,'host':_0x31ed63(0x224)},{'rule':_0xc02525,'host':_0x44c1d3(0x17a)}],_0x5185cb=_0x3c1820&&!_0x48ee3e||_0x1b5e75&&_0x48ee3e,_0x558b1d=_0xcd08dd&&!_0x48ee3e||_0x423ea5&&_0x48ee3e,_0x593bb1=_0x322ae2[_0x44c1d3(0x1aa)](_0xd5a078=>isDomain(_0xd5a078)),_0x381583=_0x5ec0b7[_0x44c1d3(0x1bd)](',')[_0x44c1d3(0x1aa)](_0x1124ca=>isDomain(_0x1124ca)),_0xa3e1a5=_0x4e0eff[_0x44c1d3(0x1bd)](',')[_0x10b479(0xeb)](_0x30bbb6=>isDomain(_0x30bbb6)),_0x5d2100=[...new Set(_0x593bb1)],_0x4f3a67=[..._0x5d2100,..._0x381583][_0x44c1d3(0x1da)]>0x0,_0x591c73=_0x13884a||_0x49d848||_0x4e4d98,_0x1afedb=_0x36bb10||_0xc02525||_0xa3e1a5[_0x44c1d3(0x1da)]>0x0,_0x44328c=_0x4c98f7?[_0x44c1d3(0x1c6)]:_0x48ee3e?_0x423ea5?[_0x44c1d3(0x152),_0x44c1d3(0x18e),_0x44c1d3(0x1a0),_0x44c1d3(0x1d6)]:[_0x44c1d3(0x152),_0x44c1d3(0x18e)]:[_0x46ffbd],_0x1eeb2f={};_0x1afedb&&(_0x3bc7c2[_0x44c1d3(0x196)](({rule:_0x2f9620,host:_0xc5475e})=>{const _0x1d719d=_0x10b479;if(_0x2f9620)_0x1eeb2f[_0xc5475e]=[_0x1d719d(0x10c)];}),_0xa3e1a5[_0x44c1d3(0x196)](_0x262bbe=>{const _0x53b771=_0x31ed63;_0x1eeb2f['domain:'+_0x262bbe]=[_0x53b771(0x20d)];}));const _0x56ea52=_0x1a79ce?await resolveDNS(_0x1a79ce):undefined;if(_0x56ea52)_0x1eeb2f[_0x1a79ce]=_0xcd08dd?[..._0x56ea52[_0x44c1d3(0x193)],..._0x56ea52[_0x10b479(0xe2)]]:_0x56ea52[_0x10b479(0x10f)];if(_0xe78230[_0x31ed63(0x209)]&&!_0x4c98f7&&!_0x48ee3e)_0x1eeb2f[_0xe78230[_0x31ed63(0x209)]]=_0xe78230[_0x44c1d3(0x1cb)];if(_0x4c98f7){const _0x439229=[_0x10b479(0x12b),_0x44c1d3(0x1ba),_0x44c1d3(0x151)],_0xe76054=await Promise[_0x44c1d3(0x14c)](_0x439229['map'](resolveDNS)),_0x381b67=_0xe76054[_0x10b479(0x153)](_0x3e2c9f=>_0x3e2c9f[_0x44c1d3(0x193)]),_0x540f3a=_0xcd08dd?_0xe76054[_0x10b479(0x153)](_0x4933b1=>_0x4933b1[_0x10b479(0xe2)]):[];_0x1eeb2f[_0x44c1d3(0x1a1)]=[..._0x381b67,..._0x540f3a];}const _0x556f2c=Object[_0x44c1d3(0x184)](_0x1eeb2f)[_0x10b479(0x123)]?{'hosts':_0x1eeb2f}:{},_0x55cc75={..._0x556f2c,'servers':_0x44328c,'queryStrategy':_0x558b1d?_0x44c1d3(0x16c):_0x10b479(0x11e),'tag':_0x44c1d3(0x1cf)};if(_0x4f3a67){const _0x3f3f70=_0x5d2100[_0x44c1d3(0x1d4)](_0x5a7059=>_0x44c1d3(0x159)+_0x5a7059),_0x524297=_0x381583['map'](_0x200a11=>_0x44c1d3(0x155)+_0x200a11);_0x55cc75[_0x44c1d3(0x19b)][_0x44c1d3(0x186)]({'address':_0x5e6e83,'domains':[..._0x3f3f70,..._0x524297],'skipFallback':!![]});}const _0x5b1954={'address':_0x5e6e83,'domains':[],'expectIPs':[],'skipFallback':!![]};!_0x4c98f7&&_0x591c73&&(_0x1b3398[_0x44c1d3(0x196)](({rule:_0x5738ec,domain:_0x23023f,ip:_0x57140c})=>{const _0x531736=_0x44c1d3;_0x5738ec&&(_0x5b1954[_0x531736(0x15e)][_0x531736(0x186)](_0x23023f),_0x5b1954['expectIPs'][_0x531736(0x186)](_0x57140c));}),_0x55cc75[_0x44c1d3(0x19b)][_0x44c1d3(0x186)](_0x5b1954));if(_0x5185cb){const _0x3d69ac=_0x591c73&&!_0x4c98f7?{'address':_0x10b479(0x133),'domains':_0x5b1954[_0x44c1d3(0x15e)]}:_0x44c1d3(0x157);_0x55cc75[_0x44c1d3(0x19b)][_0x44c1d3(0x166)](_0x3d69ac);}return _0x55cc75;}function buildXrayRoutingRules(_0x397166,_0x5f475f,_0x2a6811,_0x51d7a1,_0x2ff390,_0x229936){const _0x3ececa=a0_0x5294,_0x5ca786=a0_0xfa49,_0x3d75aa=a0_0x4bf4,{remoteDNS:_0x102ea7,localDNS:_0x166b79,bypassLAN:_0x52ae0a,bypassIran:_0x3a1a9c,bypassChina:_0x144253,bypassRussia:_0x5c2ae7,blockAds:_0x45ddab,blockPorn:_0x3998c2,blockUDP443:_0xfd3694,customBypassRules:_0x1f540d,customBlockRules:_0x5681aa}=_0x397166,_0x313707=[{'rule':_0x52ae0a,'type':_0x5ca786(0xfa),'domain':_0x3d75aa(0x1c1),'ip':_0x3d75aa(0x182)},{'rule':_0x3a1a9c,'type':_0x5ca786(0xfa),'domain':_0x5ca786(0x147),'ip':_0x3d75aa(0x1bf)},{'rule':_0x144253,'type':_0x3d75aa(0x170),'domain':_0x3d75aa(0x167),'ip':_0x3d75aa(0x16d)},{'rule':_0x45ddab,'type':_0x3ececa(0x1c0),'domain':_0x3d75aa(0x1e3)},{'rule':_0x45ddab,'type':_0x3d75aa(0x1ce),'domain':_0x5ca786(0x108)},{'rule':_0x3998c2,'type':_0x3d75aa(0x1ce),'domain':_0x5ca786(0x10a)}],_0x2ed43c=_0x5f475f[_0x3d75aa(0x1aa)](_0x5a8530=>isDomain(_0x5a8530)),_0x5445aa=_0x1f540d?_0x1f540d[_0x3d75aa(0x1bd)](','):[],_0x5c9919=_0x5681aa?_0x5681aa[_0x3d75aa(0x1bd)](','):[],_0x21746f=_0x5445aa[_0x3d75aa(0x1aa)](_0x548d22=>isDomain(_0x548d22)),_0x15b594=[..._0x2ed43c,..._0x21746f][_0x3d75aa(0x1da)]>0x0,_0x2c0bdd=_0x45ddab||_0x3998c2||_0x5c9919[_0x3ececa(0x206)]>0x0,_0x56406a=_0x3a1a9c||_0x144253||_0x5c2ae7||_0x5445aa[_0x3d75aa(0x1da)]>0x0,_0x168aa9=[{'inboundTag':[_0x5ca786(0x135)],'outboundTag':_0x3d75aa(0x15b),'type':_0x5ca786(0xf6)},{'inboundTag':[_0x3d75aa(0x142),_0x5ca786(0x12f)],'port':'53','outboundTag':_0x5ca786(0xf5),'type':_0x3d75aa(0x146)}];if(!_0x2ff390&&(_0x15b594||_0x56406a))_0x168aa9[_0x3d75aa(0x186)]({'ip':[_0x166b79],'port':'53','network':_0x3d75aa(0x1a9),'outboundTag':_0x3d75aa(0x170),'type':_0x3d75aa(0x146)});if(_0x56406a||_0x2c0bdd){const _0x51abd9=(_0x486add,_0x2bd043)=>({[_0x486add]:[],'outboundTag':_0x2bd043,'type':_0x3d75aa(0x146)});let _0x447a44,_0x39c082;!_0x2ff390&&(_0x447a44=_0x51abd9(_0x3d75aa(0x1ca),_0x3d75aa(0x170)),_0x39c082=_0x51abd9('ip',_0x3d75aa(0x170)));let _0x532f3e=_0x51abd9(_0x5ca786(0x118),'block'),_0x3da377=_0x51abd9('ip',_0x3d75aa(0x1ce));_0x313707[_0x5ca786(0xf7)](({rule:_0x2f8df4,type:_0x486959,domain:_0x38feb0,ip:_0x3ce208})=>{const _0x30a511=_0x3ececa,_0x4d947e=_0x5ca786,_0x32e399=_0x3d75aa;_0x2f8df4&&(_0x486959===_0x32e399(0x170)?(_0x447a44?.[_0x32e399(0x1ca)][_0x32e399(0x186)](_0x38feb0),_0x39c082?.['ip']?.[_0x30a511(0x1cb)](_0x3ce208)):_0x532f3e[_0x32e399(0x1ca)][_0x4d947e(0x121)](_0x38feb0));}),_0x5445aa[_0x5ca786(0xf7)](_0x2bfa1e=>{const _0x3b37fe=_0x3ececa,_0x4fcb4a=_0x5ca786,_0x3b4cc9=_0x3d75aa;isDomain(_0x2bfa1e)?_0x447a44?.[_0x3b4cc9(0x1ca)][_0x4fcb4a(0x121)](_0x4fcb4a(0x112)+_0x2bfa1e):_0x39c082?.['ip'][_0x3b37fe(0x1cb)](_0x2bfa1e);}),_0x5c9919[_0x3d75aa(0x196)](_0x3f39e3=>{const _0x26ce67=_0x5ca786,_0x433f4f=_0x3d75aa;isDomain(_0x3f39e3)?_0x532f3e[_0x433f4f(0x1ca)][_0x26ce67(0x121)](_0x433f4f(0x155)+_0x3f39e3):_0x3da377['ip'][_0x433f4f(0x186)](_0x3f39e3);}),!_0x2ff390&&(_0x447a44['domain'][_0x3d75aa(0x1da)]&&_0x168aa9[_0x3d75aa(0x186)](_0x447a44),_0x39c082['ip'][_0x3d75aa(0x1da)]&&_0x168aa9[_0x3d75aa(0x186)](_0x39c082)),_0x532f3e[_0x3d75aa(0x1ca)][_0x3d75aa(0x1da)]&&_0x168aa9[_0x3d75aa(0x186)](_0x532f3e),_0x3da377['ip'][_0x3d75aa(0x1da)]&&_0x168aa9[_0x3d75aa(0x186)](_0x3da377);}_0xfd3694&&_0x168aa9[_0x3d75aa(0x186)]({'network':_0x3d75aa(0x1a9),'port':_0x3d75aa(0x165),'outboundTag':_0x3d75aa(0x1ce),'type':_0x3d75aa(0x146)});if(_0x2a6811){const _0x1e9c53={[_0x51d7a1?_0x3d75aa(0x1d8):_0x3d75aa(0x1e2)]:_0x51d7a1?_0x3d75aa(0x17c):_0x3d75aa(0x1d2),'type':_0x3d75aa(0x146)};if(!_0x229936){const _0x4ac0e0=new URL(_0x102ea7),_0x175fb3=_0x4ac0e0[_0x3d75aa(0x19e)];_0x168aa9[_0x3d75aa(0x186)]({[isDomain(_0x175fb3)?_0x5ca786(0x118):'ip']:[_0x175fb3],'network':_0x3d75aa(0x195),..._0x1e9c53});}else _0x168aa9[_0x3d75aa(0x186)]({'network':_0x3d75aa(0x1a9),'port':'53',..._0x1e9c53});}return _0x51d7a1?_0x168aa9[_0x3d75aa(0x186)]({'network':_0x3d75aa(0x1dd),'balancerTag':_0x3d75aa(0x14c),'type':_0x3d75aa(0x146)}):_0x168aa9[_0x3d75aa(0x186)]({'network':_0x5ca786(0x157),'outboundTag':_0x2a6811?_0x3d75aa(0x1c4):_0x2ff390?_0x5ca786(0xcf):_0x3d75aa(0x1d2),'type':_0x3d75aa(0x146)}),_0x168aa9;}function a0_0x29b2(){const _0x43f588=a0_0x5294,_0x5310a9=[_0x43f588(0x1ad),_0x43f588(0x1d5),_0x43f588(0x23c),_0x43f588(0x22a),_0x43f588(0x1fd),_0x43f588(0x241),_0x43f588(0x1df),_0x43f588(0x23e),_0x43f588(0x247),'google.com',_0x43f588(0x24c),_0x43f588(0x1f1),'geosite:cn','1.1.1.1',_0x43f588(0x1bc),'flatMap','freedom',_0x43f588(0x1dd),_0x43f588(0x23a),'tcp,udp',_0x43f588(0x1fb),_0x43f588(0x1e8),_0x43f588(0x1d1),_0x43f588(0x228),'30s','451236DFrVfE',_0x43f588(0x1e3),_0x43f588(0x229),_0x43f588(0x1e2),_0x43f588(0x1f9),_0x43f588(0x1bf),_0x43f588(0x21a),'includes',_0x43f588(0x24b),_0x43f588(0x1e9),_0x43f588(0x248),_0x43f588(0x1b4),_0x43f588(0x1ba),'10-20',_0x43f588(0x225),_0x43f588(0x1b6),_0x43f588(0x23b),'remarks',_0x43f588(0x21c),'GET',_0x43f588(0x233),'4Aqomvx','💦\x20BPB\x20F\x20-\x20Best\x20Ping\x20💥','none',_0x43f588(0x242),_0x43f588(0x1c7),_0x43f588(0x211),_0x43f588(0x23f),'tlsSettings',_0x43f588(0x1c0),_0x43f588(0x215),_0x43f588(0x255),_0x43f588(0x1bb),_0x43f588(0x1ea),_0x43f588(0x244),_0x43f588(0x232),_0x43f588(0x252),'30-50',_0x43f588(0x1c1),_0x43f588(0x1e6),'419290oknqlE',_0x43f588(0x1ef),'tag',_0x43f588(0x1c5),'no-store,\x20no-cache,\x20must-revalidate,\x20proxy-revalidate',_0x43f588(0x235),'💦\x20BPB\x20F\x20-\x20WorkerLess\x20⭐',_0x43f588(0x1e1),_0x43f588(0x1b1),_0x43f588(0x20b),_0x43f588(0x21b),_0x43f588(0x20e),_0x43f588(0x218),'ipv6',_0x43f588(0x1e7),_0x43f588(0x212),_0x43f588(0x1d9),_0x43f588(0x1c6),'50-60',_0x43f588(0x1bd),_0x43f588(0x1fa),_0x43f588(0x1e5),_0x43f588(0x1fc),_0x43f588(0x1d6),_0x43f588(0x1cf),_0x43f588(0x1b5),_0x43f588(0x234),'20-40','tcpSettings','outbounds',_0x43f588(0x21e),_0x43f588(0x220),'dns-out',_0x43f588(0x1d8),_0x43f588(0x253),_0x43f588(0x1d7),_0x43f588(0x1f3),_0x43f588(0x213),'defaultHttpsPorts','grpc',_0x43f588(0x208),_0x43f588(0x22b),_0x43f588(0x1f6),_0x43f588(0x22c),_0x43f588(0x1cd),'IPIfNonMatch',_0x43f588(0x1be),_0x43f588(0x1da),'70-80',_0x43f588(0x1f7),_0x43f588(0x1ab),_0x43f588(0x224),_0x43f588(0x249),_0x43f588(0x22f),_0x43f588(0x230),_0x43f588(0x20d),_0x43f588(0x222),_0x43f588(0x1ce),'ipv4',_0x43f588(0x226),_0x43f588(0x1b9),_0x43f588(0x22d),_0x43f588(0x207),_0x43f588(0x254),_0x43f588(0x1cc),_0x43f588(0x221),_0x43f588(0x239),_0x43f588(0x219),_0x43f588(0x201),_0x43f588(0x251),_0x43f588(0x1d2),'split',_0x43f588(0x1ec),_0x43f588(0x1c4),_0x43f588(0x1af),_0x43f588(0x238),_0x43f588(0x1cb),_0x43f588(0x1f2),_0x43f588(0x206),_0x43f588(0x202),_0x43f588(0x203),_0x43f588(0x22e),'realitySettings',_0x43f588(0x250),_0x43f588(0x1e4),_0x43f588(0x1b0),_0x43f588(0x1ed),'414396sXJSSS',_0x43f588(0x1dc),'https://cloudflare-dns.com/dns-query',_0x43f588(0x1f8),_0x43f588(0x1b8),'unshift',_0x43f588(0x1b3),_0x43f588(0x20a),_0x43f588(0x1ff),'dns-in',_0x43f588(0x23d),'💦\x20','\x20-\x20WoW','VLESS','stringify',_0x43f588(0x200),_0x43f588(0x1f5),_0x43f588(0x1ac),_0x43f588(0x1d0),'full:',_0x43f588(0x1c2),'45042eHbzrd','chain',_0x43f588(0x210)];return a0_0x29b2=function(){return _0x5310a9;},a0_0x29b2();}function buildXrayVLESSOutbound(_0x409c5f,_0x5608ff,_0x28a11e,_0x74024f,_0x28520d,_0x1f6c8f,_0x3f8c0c,_0x527c92,_0x31c335){const _0x9877c3=a0_0xfa49,_0x3a8dab=a0_0x4bf4,_0x3c3a28={'protocol':_0x9877c3(0xd3),'settings':{'vnext':[{'address':_0x5608ff,'port':+_0x28a11e,'users':[{'id':globalThis[_0x3a8dab(0x15a)],'encryption':_0x9877c3(0xc4),'level':0x8}]}]},'streamSettings':{'network':'ws','security':_0x3a8dab(0x190),'sockopt':{},'wsSettings':{'headers':{'Host':_0x74024f,'User-Agent':_0x3a8dab(0x1d1)},'path':'/'+getRandomPath(0x10)+(_0x1f6c8f?'/'+btoa(_0x1f6c8f):'')+_0x9877c3(0x163)}},'tag':_0x409c5f};globalThis[_0x9877c3(0xfb)][_0x3a8dab(0x160)](_0x28a11e)&&(_0x3c3a28[_0x3a8dab(0x1b4)][_0x3a8dab(0x1c3)]=_0x3a8dab(0x180),_0x3c3a28[_0x3a8dab(0x1b4)][_0x3a8dab(0x14f)]={'allowInsecure':_0x527c92,'fingerprint':_0x3a8dab(0x1be),'alpn':['h2',_0x3a8dab(0x1b2)],'serverName':_0x28520d});const _0x30caf4=_0x3c3a28[_0x3a8dab(0x1b4)][_0x3a8dab(0x1c5)];return _0x3f8c0c?_0x30caf4[_0x9877c3(0x103)]=_0x9877c3(0xcf):(_0x30caf4[_0x3a8dab(0x1d5)]=0x1e,_0x30caf4[_0x3a8dab(0x173)]=!![],_0x30caf4[_0x3a8dab(0x1a8)]=_0x31c335?_0x3a8dab(0x1cc):_0x3a8dab(0x1df)),_0x3c3a28;}function buildXrayTrojanOutbound(_0x2fbe14,_0x2b065a,_0x5c1717,_0x281773,_0x2a8fd4,_0x31e548,_0x529307,_0x109d17,_0x4c19aa){const _0x38e2e2=a0_0x5294,_0x37490e=a0_0xfa49,_0x4fdc80=a0_0x4bf4,_0x12ee1e={'protocol':_0x37490e(0x132),'settings':{'servers':[{'address':_0x2b065a,'port':+_0x5c1717,'password':globalThis[_0x4fdc80(0x16a)],'level':0x8}]},'streamSettings':{'network':'ws','security':_0x4fdc80(0x190),'sockopt':{},'wsSettings':{'headers':{'Host':_0x281773},'path':_0x4fdc80(0x18a)+getRandomPath(0x10)+(_0x31e548?'/'+btoa(_0x31e548):'')+_0x4fdc80(0x1a7)}},'tag':_0x2fbe14};globalThis[_0x38e2e2(0x24f)][_0x4fdc80(0x160)](_0x5c1717)&&(_0x12ee1e[_0x4fdc80(0x1b4)][_0x4fdc80(0x1c3)]=_0x4fdc80(0x180),_0x12ee1e[_0x4fdc80(0x1b4)][_0x4fdc80(0x14f)]={'allowInsecure':_0x109d17,'fingerprint':_0x4fdc80(0x1be),'alpn':['h2',_0x4fdc80(0x1b2)],'serverName':_0x2a8fd4});const _0x478699=_0x12ee1e[_0x37490e(0x160)][_0x4fdc80(0x1c5)];return _0x529307?_0x478699[_0x4fdc80(0x1b9)]=_0x4fdc80(0x1a4):(_0x478699[_0x4fdc80(0x1d5)]=0x1e,_0x478699[_0x4fdc80(0x173)]=!![],_0x478699[_0x4fdc80(0x1a8)]=_0x4c19aa?_0x4fdc80(0x1cc):_0x4fdc80(0x1df)),_0x12ee1e;}function buildXrayWarpOutbound(_0x5c021b,_0x57b47d,_0x3c5343,_0x5c2517,_0x30e0d2){const _0x1164f6=a0_0xfa49,_0x2a7af2=a0_0x4bf4,{warpEnableIPv6:_0x41a349,nikaNGNoiseMode:_0x3152a1,noiseCountMin:_0x128e0c,noiseCountMax:_0x2a1aee,noiseSizeMin:_0x47c4e7,noiseSizeMax:_0x3df899,noiseDelayMin:_0x475005,noiseDelayMax:_0x2c6382}=_0x5c021b,{warpIPv6:_0x120694,reserved:_0x19161e,publicKey:_0x404a3d,privateKey:_0x2a8d2f}=extractWireguardParams(_0x57b47d,_0x5c2517),_0x356e24={'protocol':_0x2a7af2(0x168),'settings':{'address':[_0x2a7af2(0x16f),_0x120694],'mtu':0x500,'peers':[{'endpoint':_0x3c5343,'publicKey':_0x404a3d,'keepAlive':0x5}],'reserved':base64ToDecimal(_0x19161e),'secretKey':_0x2a8d2f},'streamSettings':{'sockopt':{'dialerProxy':_0x2a7af2(0x1d2),'domainStrategy':_0x41a349?_0x2a7af2(0x1cc):_0x2a7af2(0x1df)}},'tag':_0x5c2517?_0x1164f6(0x142):_0x2a7af2(0x1d2)};return!_0x5c2517&&delete _0x356e24[_0x2a7af2(0x1b4)],_0x30e0d2===_0x1164f6(0x16c)&&!_0x5c2517&&Object[_0x2a7af2(0x174)](_0x356e24[_0x2a7af2(0x14e)],{'wnoise':_0x3152a1,'wnoisecount':_0x128e0c===_0x2a1aee?_0x128e0c:_0x128e0c+'-'+_0x2a1aee,'wpayloadsize':_0x47c4e7===_0x3df899?_0x47c4e7:_0x47c4e7+'-'+_0x3df899,'wnoisedelay':_0x475005===_0x2c6382?_0x475005:_0x475005+'-'+_0x2c6382}),_0x356e24;}function buildXrayChainOutbound(_0x455b39,_0x343906){const _0x2fb61b=a0_0x5294,_0x20249e=a0_0xfa49,_0x396e78=a0_0x4bf4;if([_0x20249e(0x169),'http'][_0x396e78(0x160)](_0x455b39[_0x396e78(0x194)])){const {protocol:_0x5ac6cb,server:_0x5951e5,port:_0x43dd4d,user:_0x4027a7,pass:_0x52ac0d}=_0x455b39;return{'protocol':_0x5ac6cb,'settings':{'servers':[{'address':_0x5951e5,'port':+_0x43dd4d,'users':[{'user':_0x4027a7,'pass':_0x52ac0d,'level':0x8}]}]},'streamSettings':{'network':_0x396e78(0x195),'sockopt':{'dialerProxy':_0x396e78(0x1d2),'domainStrategy':_0x343906?_0x20249e(0x145):_0x396e78(0x1df),'tcpNoDelay':!![]}},'mux':{'enabled':!![],'concurrency':0x8,'xudpConcurrency':0x10,'xudpProxyUDP443':_0x396e78(0x1a5)},'tag':_0x2fb61b(0x21d)};}const {server:_0x4e2819,port:_0x17fae2,uuid:_0x1c4629,flow:_0x824ea1,security:_0x272fe3,type:_0x5a3d4e,sni:_0x1eb01c,fp:_0x477455,alpn:_0x4e942e,pbk:_0x1e4bd3,sid:_0x35f4de,spx:_0x2bba91,headerType:_0x356ad1,host:_0x2f5a86,path:_0x3be371,authority:_0xdc2bab,serviceName:_0x50aa52,mode:_0x4dd93f}=_0x455b39,_0x50b348={'mux':{'concurrency':0x8,'enabled':!![],'xudpConcurrency':0x10,'xudpProxyUDP443':_0x396e78(0x1a5)},'protocol':_0x396e78(0x191),'settings':{'vnext':[{'address':_0x4e2819,'port':+_0x17fae2,'users':[{'encryption':_0x396e78(0x190),'flow':_0x824ea1,'id':_0x1c4629,'level':0x8,'security':_0x396e78(0x147)}]}]},'streamSettings':{'network':_0x5a3d4e,'security':_0x272fe3,'sockopt':{'dialerProxy':_0x396e78(0x1d2),'domainStrategy':_0x343906?_0x2fb61b(0x1d5):_0x396e78(0x1df),'tcpNoDelay':!![]}},'tag':_0x2fb61b(0x21d)};if(_0x272fe3===_0x396e78(0x180)){const _0x53a556=_0x4e942e?_0x4e942e?.[_0x396e78(0x1bd)](','):[];_0x50b348[_0x396e78(0x1b4)][_0x396e78(0x14f)]={'allowInsecure':![],'fingerprint':_0x477455,'alpn':_0x53a556,'serverName':_0x1eb01c};}_0x272fe3===_0x396e78(0x192)&&(delete _0x50b348[_0x396e78(0x178)],_0x50b348[_0x20249e(0x160)][_0x396e78(0x175)]={'fingerprint':_0x477455,'publicKey':_0x1e4bd3,'serverName':_0x1eb01c,'shortId':_0x35f4de,'spiderX':_0x2bba91});if(_0x356ad1===_0x20249e(0xf8)){const _0x4122a3=_0x3be371?.[_0x20249e(0x11c)](','),_0x1cc17e=_0x2f5a86?.[_0x396e78(0x1bd)](',');_0x50b348[_0x396e78(0x1b4)][_0x396e78(0x13f)]={'header':{'request':{'headers':{'Host':_0x1cc17e},'method':_0x20249e(0xc0),'path':_0x4122a3,'version':_0x20249e(0x166)},'response':{'headers':{'Content-Type':[_0x396e78(0x183)]},'reason':'OK','status':_0x396e78(0x144),'version':_0x20249e(0x166)},'type':_0x20249e(0xf8)}};}if(_0x5a3d4e===_0x396e78(0x195)&&_0x272fe3!==_0x396e78(0x192)&&!_0x356ad1)_0x50b348[_0x396e78(0x1b4)][_0x396e78(0x13f)]={'header':{'type':_0x20249e(0xc4)}};if(_0x5a3d4e==='ws')_0x50b348[_0x396e78(0x1b4)][_0x396e78(0x172)]={'headers':{'Host':_0x2f5a86},'path':_0x3be371};return _0x5a3d4e===_0x396e78(0x17d)&&(delete _0x50b348[_0x396e78(0x178)],_0x50b348[_0x396e78(0x1b4)][_0x396e78(0x1ac)]={'authority':_0xdc2bab,'multiMode':_0x4dd93f===_0x396e78(0x141),'serviceName':_0x50aa52}),_0x50b348;}function buildXrayConfig(_0x231773,_0x984f95,_0x5e0db3,_0x53b751,_0x4432c5,_0x21472a,_0x129285){const _0x4ada5a=a0_0xfa49,_0xbab734=a0_0x4bf4,{vlessTrojanFakeDNS:_0x2ec34b,enableIPv6:_0x13be0d,warpFakeDNS:_0x5cb0ea,bestVLESSTrojanInterval:_0x956da6,bestWarpInterval:_0x3135bd,lengthMin:_0x3971be,lengthMax:_0x39cd8f,intervalMin:_0x2ac2b9,intervalMax:_0x911ed1,fragmentPackets:_0x208e00}=_0x231773,_0x4fda8f=_0x2ec34b&&!_0x129285||_0x5cb0ea&&_0x129285,_0x13fec7=structuredClone(xrayConfigTemp);_0x13fec7[_0xbab734(0x15f)]=_0x984f95,_0x4fda8f&&(_0x13fec7[_0xbab734(0x1ae)][0x0][_0xbab734(0x1de)][_0xbab734(0x19f)][_0x4ada5a(0x121)](_0xbab734(0x157)),_0x13fec7[_0xbab734(0x1ae)][0x1][_0xbab734(0x1de)][_0xbab734(0x19f)][_0x4ada5a(0x121)](_0xbab734(0x157)));if(_0x5e0db3){const _0x3a9869=_0x13fec7[_0xbab734(0x14a)][0x0][_0xbab734(0x14e)][_0xbab734(0x1a4)];_0x3a9869[_0xbab734(0x1da)]=_0x3971be+'-'+_0x39cd8f,_0x3a9869[_0xbab734(0x143)]=_0x2ac2b9+'-'+_0x911ed1,_0x3a9869[_0xbab734(0x1c9)]=_0x208e00,_0x13fec7[_0xbab734(0x14a)][0x0][_0x4ada5a(0x14c)][_0xbab734(0x1a8)]=_0x13be0d?_0xbab734(0x1cc):_0xbab734(0x1df);}else _0x13fec7[_0xbab734(0x14a)][_0xbab734(0x177)]();if(_0x53b751){const _0x596d8d=_0x129285?_0x3135bd:_0x956da6;_0x13fec7[_0xbab734(0x14d)][_0xbab734(0x1b1)]=_0x596d8d+'s';if(_0x21472a)_0x13fec7[_0x4ada5a(0xc8)][_0xbab734(0x18d)][0x0][_0xbab734(0x1af)]=_0x4ada5a(0x168);if(_0x4432c5){_0x13fec7[_0xbab734(0x14d)][_0x4ada5a(0x146)][_0xbab734(0x186)](_0xbab734(0x1c4));const _0xeba598=structuredClone(_0x13fec7[_0xbab734(0x17b)][_0xbab734(0x18d)][0x0]);if(_0x21472a)_0xeba598[_0xbab734(0x1af)]=_0x4ada5a(0xe4);_0x13fec7[_0xbab734(0x17b)][_0xbab734(0x18d)][_0xbab734(0x186)]({..._0xeba598,'selector':[_0xbab734(0x1c4)]}),_0x13fec7[_0x4ada5a(0xc8)][_0x4ada5a(0x107)][0x0][_0x4ada5a(0xd7)]=_0xbab734(0x17c);}}else delete _0x13fec7[_0xbab734(0x14d)],delete _0x13fec7[_0x4ada5a(0xc8)][_0xbab734(0x18d)];return _0x13fec7;}async function buildXrayBestPingConfig(_0x3e79b4,_0x1ca810,_0x37c3ce,_0xe05c91,_0x8eb60c){const _0x3efb24=a0_0xfa49,_0x2dfde0=a0_0x4bf4,_0x3c8ec8=_0x8eb60c?_0x3efb24(0xc3):_0x3efb24(0x134),_0xee5c83=buildXrayConfig(_0x3e79b4,_0x3c8ec8,_0x8eb60c,!![],_0x37c3ce,!![]);return _0xee5c83[_0x2dfde0(0x1cf)]=await buildXrayDNS(_0x3e79b4,_0x1ca810,undefined,![],![]),_0xee5c83['routing'][_0x2dfde0(0x169)]=buildXrayRoutingRules(_0x3e79b4,_0x1ca810,_0x37c3ce,!![],![],![]),_0xee5c83[_0x2dfde0(0x14a)][_0x2dfde0(0x166)](..._0xe05c91),_0xee5c83;}async function buildXrayBestFragmentConfig(_0x84bf06,_0xb1c2dd,_0x1b4309,_0x26f98a){const _0x36401d=a0_0x5294,_0x1d3fe1=a0_0xfa49,_0x3eaf2e=a0_0x4bf4,_0x517316=[_0x3eaf2e(0x1e5),_0x3eaf2e(0x1b7),_0x36401d(0x24d),_0x3eaf2e(0x171),_0x1d3fe1(0xe7),_0x3eaf2e(0x1db),_0x3eaf2e(0x19c),_0x3eaf2e(0x1c8),_0x36401d(0x214),_0x3eaf2e(0x197),_0x3eaf2e(0x1a3),_0x1d3fe1(0xd2),_0x3eaf2e(0x1ad),_0x3eaf2e(0x17f),_0x3eaf2e(0x187),_0x3eaf2e(0x1cd),'80-100',_0x3eaf2e(0x1e1)],_0x42ee52=buildXrayConfig(_0x84bf06,_0x3eaf2e(0x1ab),!![],!![],_0x1b4309,![],![]);_0x42ee52[_0x3eaf2e(0x1cf)]=await buildXrayDNS(_0x84bf06,[],_0xb1c2dd,![],![]),_0x42ee52[_0x3eaf2e(0x17b)][_0x1d3fe1(0x143)]=buildXrayRoutingRules(_0x84bf06,[],_0x1b4309,!![],![],![]);const _0x250c8a=_0x42ee52['outbounds'][_0x3eaf2e(0x177)](),_0x2d11be=[];return _0x517316[_0x3eaf2e(0x196)]((_0x33a049,_0x21d208)=>{const _0x5002c9=_0x36401d,_0x22162e=_0x1d3fe1,_0x5f0c83=_0x3eaf2e;if(_0x1b4309){const _0x51d2ad=structuredClone(_0x1b4309);_0x51d2ad[_0x5f0c83(0x181)]=_0x22162e(0x11a)+(_0x21d208+0x1),_0x51d2ad[_0x5f0c83(0x1b4)][_0x5f0c83(0x1c5)][_0x5f0c83(0x1b9)]=_0x5f0c83(0x162)+(_0x21d208+0x1),_0x2d11be[_0x5f0c83(0x186)](_0x51d2ad);}const _0x5e9f7f=structuredClone(_0x26f98a[_0x1b4309?0x1:0x0]);_0x5e9f7f[_0x5f0c83(0x181)]=_0x5f0c83(0x162)+(_0x21d208+0x1),_0x5e9f7f[_0x22162e(0x160)][_0x5f0c83(0x1c5)][_0x22162e(0x103)]=_0x5f0c83(0x145)+(_0x21d208+0x1);const _0x4b85de=structuredClone(_0x250c8a);_0x4b85de[_0x5002c9(0x1ee)]=_0x5f0c83(0x145)+(_0x21d208+0x1),_0x4b85de[_0x5f0c83(0x14e)][_0x5002c9(0x244)][_0x5f0c83(0x1da)]=_0x33a049,_0x4b85de[_0x5f0c83(0x14e)][_0x22162e(0xcf)][_0x5f0c83(0x143)]=_0x5f0c83(0x18f),_0x2d11be[_0x5f0c83(0x186)](_0x5e9f7f,_0x4b85de);}),_0x42ee52[_0x1d3fe1(0xf2)][_0x3eaf2e(0x166)](..._0x2d11be),_0x42ee52;}function a0_0x5166(){const _0x52d076=['100-200','20-30','40-50','geoip:private','1.1','fallbackTag','put','35IbfpfW','cloudflare-dns.com','tag','200','observatory','blackhole','24BGaDrR','sniffing','reality','2606:4700:4700::1001','prox','10-30','http-in','inbounds','application/octet-stream','servers','filter','40-60','geoip:cn','💦\x20BPB\x20-\x20Best\x20Ping\x20💥','map','80-90','172.16.0.2/32','2606:4700:4700::1111','wireguard','1005338DerTqe','length','parse','prox-','server','fakedns','no-store','tcpNoDelay','127.0.0.1','noauth','2153184jodWLe','rules','dns','chain-2','direct','90-100','outboundTag','geosite:category-ads-all','1089fRtirg','geoip:ir','domain','?ed=2560','shift','1.0.0.1','chain','balancerTag','multi','packets','proxySettings','assign','17307750xAeiXb','geosite:category-ads-ir','\x20-\x20Warp','trojanPassword','outbounds','50-70','1453809ysQveq','geosite:category-ir','20293470vGXXUt','153eIidyV','domain:','230QLwzBc','geosite:category-porn','An\x20error\x20occured\x20while\x20parsing\x20chain\x20proxy:\x20','221158EvOlUo','text/plain;charset=utf-8','dokodemo-door','sockopt','6020eFukYU','2192729cNrrIn','114EHSKtN','\x20Pro\x20','auto','1899785jBtyLg','25044Apunqz','subjectSelector','udp','geosite:category-ru','routing','tcpKeepAliveIdle','hostName','all','mux','fragment','990744aMbQPy','1691577pwmdrr','settings','all-proxy','security','cloudflare.com','/tr','randomized','30-40','60OJAGXn','defaultHttpsPorts','261616GdwyLs','chain-','socks-in','forEach','11694272aByjfe','keys','balancers','743584KndRtq','path','18ANMdxl','proxy','hostname','tcp','leastPing','trojan','prox-2','log','nikang','bpb','💦\x20WoW','protocol','socks','geosite:private','443','entries','dialerProxy','geoip:ru','block','vless','wsSettings','fake-outbound','UseIPv4','frag-','70-90','destOverride','Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/127.0.0.0\x20Safari/537.36','dash.cloudflare.com','includes','push','http/1.1','probeInterval','1-1','60-70','1041503AHgmLG','🇮🇷','💦\x20Warp','102155HWZQDQ','unshift','UseIPv4v6','staticIPs','http','field','https://www.gstatic.com/generate_204','interval','grpcSettings','60-80','UseIP','google.com','domainStrategy','💦\x20BPB\x20F\x20-\x20Best\x20Fragment\x20😎','warning','streamSettings','Trojan','-\x20Best\x20Ping\x20🚀'];a0_0x5166=function(){return _0x52d076;};return a0_0x5166();}function a0_0xfa49(_0x12e1c1,_0x48f5b7){const _0x5353a7=a0_0x29b2();return a0_0xfa49=function(_0x1026e7,_0xa95270){_0x1026e7=_0x1026e7-0xc0;let _0x26d5c1=_0x5353a7[_0x1026e7];return _0x26d5c1;},a0_0xfa49(_0x12e1c1,_0x48f5b7);}function a0_0x5319(){const _0xfbae3b=a0_0x5294,_0x5aa1f1=a0_0xfa49,_0x15172d=[_0x5aa1f1(0xc9),_0x5aa1f1(0x162),_0xfbae3b(0x1c9),_0x5aa1f1(0x151),_0xfbae3b(0x1b2),_0x5aa1f1(0x15a),_0xfbae3b(0x22d),_0x5aa1f1(0x137),_0xfbae3b(0x20a),_0x5aa1f1(0x16d),_0x5aa1f1(0x13f),'userID',_0x5aa1f1(0xf5),_0x5aa1f1(0xe0),_0x5aa1f1(0xde),'domains',_0x5aa1f1(0x16e),_0xfbae3b(0x1ca),_0x5aa1f1(0x14b),_0x5aa1f1(0xfd),_0x5aa1f1(0x138),_0x5aa1f1(0x126),_0x5aa1f1(0x152),_0xfbae3b(0x1d4),_0x5aa1f1(0x150),_0xfbae3b(0x204),_0x5aa1f1(0x143),_0x5aa1f1(0x110),_0x5aa1f1(0xda),_0x5aa1f1(0x155),_0xfbae3b(0x1fe),_0xfbae3b(0x24f),_0x5aa1f1(0x124),_0x5aa1f1(0xfa),_0x5aa1f1(0xe3),_0x5aa1f1(0x140),_0xfbae3b(0x20c),_0x5aa1f1(0x10d),_0x5aa1f1(0x127),_0xfbae3b(0x1b7),_0x5aa1f1(0xdf),_0xfbae3b(0x243),_0x5aa1f1(0x11d),_0xfbae3b(0x22f),_0x5aa1f1(0xc8),_0x5aa1f1(0x167),_0x5aa1f1(0xfc),_0x5aa1f1(0x116),_0x5aa1f1(0x15b),'tls',_0xfbae3b(0x1ee),_0x5aa1f1(0x159),_0x5aa1f1(0xe9),_0x5aa1f1(0xcc),_0xfbae3b(0x217),_0x5aa1f1(0x121),_0x5aa1f1(0x12d),_0x5aa1f1(0xdb),_0x5aa1f1(0xee),_0x5aa1f1(0x165),_0x5aa1f1(0x13a),_0x5aa1f1(0x14f),_0x5aa1f1(0x107),_0x5aa1f1(0x16f),_0x5aa1f1(0x10e),'none',_0x5aa1f1(0xd3),_0xfbae3b(0x1f4),_0x5aa1f1(0x10f),_0x5aa1f1(0x111),_0x5aa1f1(0xdd),_0x5aa1f1(0xf7),_0x5aa1f1(0x106),_0xfbae3b(0x1eb),_0xfbae3b(0x236),_0xfbae3b(0x1c3),_0x5aa1f1(0x158),_0x5aa1f1(0x105),_0x5aa1f1(0x144),_0x5aa1f1(0x12a),_0x5aa1f1(0xc6),_0x5aa1f1(0x125),_0x5aa1f1(0x12b),_0x5aa1f1(0x13e),_0x5aa1f1(0xf0),_0xfbae3b(0x244),'reject',_0x5aa1f1(0xd5),_0x5aa1f1(0x163),_0x5aa1f1(0x14a),_0x5aa1f1(0x136),_0x5aa1f1(0xeb),_0xfbae3b(0x1e0),_0xfbae3b(0x1db),_0x5aa1f1(0x148),_0x5aa1f1(0x161),_0x5aa1f1(0xce),_0x5aa1f1(0x12f),_0x5aa1f1(0x101),_0x5aa1f1(0x115),_0x5aa1f1(0x139),_0x5aa1f1(0x160),_0x5aa1f1(0xf8),_0x5aa1f1(0x154),_0x5aa1f1(0xd4),_0xfbae3b(0x20d),_0x5aa1f1(0x103),_0xfbae3b(0x24a),_0x5aa1f1(0x16c),_0x5aa1f1(0x16b),'split',_0x5aa1f1(0x14e),_0x5aa1f1(0xe1),_0x5aa1f1(0xc1),_0x5aa1f1(0xcd),_0x5aa1f1(0x102),_0x5aa1f1(0x109),'chain',_0x5aa1f1(0xef),_0x5aa1f1(0x12e),_0x5aa1f1(0x15e),_0x5aa1f1(0x119),_0x5aa1f1(0xf4),_0x5aa1f1(0x118),_0x5aa1f1(0xec),_0x5aa1f1(0x145),_0x5aa1f1(0xe6),_0x5aa1f1(0xca),_0x5aa1f1(0xc7),_0x5aa1f1(0x15d),_0xfbae3b(0x1c8),_0x5aa1f1(0x11f),_0x5aa1f1(0x114),_0x5aa1f1(0x13b),_0xfbae3b(0x240),_0x5aa1f1(0x13c),_0x5aa1f1(0x14d),_0x5aa1f1(0xf3),_0x5aa1f1(0xdc),_0xfbae3b(0x206),_0x5aa1f1(0xed),_0x5aa1f1(0xd0),_0x5aa1f1(0x157),_0x5aa1f1(0xf9),_0x5aa1f1(0x11e),_0x5aa1f1(0xd9),_0x5aa1f1(0xea),_0x5aa1f1(0xcb),_0xfbae3b(0x216),_0x5aa1f1(0x129),_0x5aa1f1(0x16a),_0xfbae3b(0x251),_0x5aa1f1(0x120),_0x5aa1f1(0xf1),_0x5aa1f1(0xff),_0xfbae3b(0x21f),_0x5aa1f1(0xd1),_0x5aa1f1(0x104),_0x5aa1f1(0xd6),_0x5aa1f1(0xd8),_0x5aa1f1(0xf6),_0x5aa1f1(0x117),_0x5aa1f1(0x10b),_0x5aa1f1(0x149),_0x5aa1f1(0xf2),_0x5aa1f1(0x169),_0x5aa1f1(0xc5),_0xfbae3b(0x1f0),_0x5aa1f1(0x14c)];return a0_0x5319=function(){return _0x15172d;},a0_0x5319();}async function buildXrayWorkerLessConfig(_0x3a161f){const _0x29018e=a0_0x5294,_0x565d34=a0_0xfa49,_0x14015f=a0_0x4bf4,_0xc39c27=buildXrayConfig(_0x3a161f,_0x14015f(0x188),!![],![],![],![],![]);_0xc39c27[_0x565d34(0xc7)]=await buildXrayDNS(_0x3a161f,[],undefined,!![]),_0xc39c27[_0x14015f(0x17b)][_0x14015f(0x169)]=buildXrayRoutingRules(_0x3a161f,[],![],![],!![],![]);const _0x36c998=buildXrayVLESSOutbound(_0x14015f(0x19a),_0x14015f(0x1d7),_0x14015f(0x165),globalThis[_0x14015f(0x15a)],_0x29018e(0x1de),_0x14015f(0x1d7),'',!![],![]);return delete _0x36c998[_0x14015f(0x1b4)][_0x14015f(0x1c5)],_0x36c998[_0x565d34(0x160)]['wsSettings'][_0x14015f(0x19d)]='/',_0xc39c27[_0x14015f(0x14a)][_0x565d34(0x121)](_0x36c998),_0xc39c27;}export async function getXrayCustomConfigs(_0x46e91f,_0x2d01a6,_0x272ea8){const _0x4034ea=a0_0x5294,_0x2c9a07=a0_0xfa49,_0x2cf0de=a0_0x4bf4,{proxySettings:_0x5453de}=await getDataset(_0x46e91f,_0x2d01a6);let _0x5465f2=[],_0x272eb0=[],_0x41f74f=[],_0x1ec9bb;const {proxyIP:_0x32ee69,outProxy:_0x1874f6,outProxyParams:_0x398ea0,cleanIPs:_0x387718,enableIPv6:_0x15fd5d,customCdnAddrs:_0x39cfbf,customCdnHost:_0x21212c,customCdnSni:_0x5d122b,vlessConfigs:_0x3fd81c,trojanConfigs:_0x17d84b,ports:_0x540f6b}=_0x5453de;if(_0x1874f6){const _0xc59c90=JSON[_0x2c9a07(0x113)](_0x398ea0);try{_0x1ec9bb=buildXrayChainOutbound(_0xc59c90,_0x15fd5d);}catch(_0x1dc3ed){console[_0x2cf0de(0x189)](_0x2cf0de(0x148),_0x1dc3ed),_0x1ec9bb=undefined,await _0x2d01a6[_0x2cf0de(0x176)][_0x2cf0de(0x198)](_0x2cf0de(0x17e),JSON[_0x2cf0de(0x18b)]({..._0x5453de,'outProxy':'','outProxyParams':{}}));}}const _0x31ebe1=await getConfigAddresses(_0x387718,_0x15fd5d),_0x446b1f=_0x39cfbf?_0x39cfbf[_0x2cf0de(0x1bd)](','):[],_0x3dc296=_0x272ea8?[..._0x31ebe1]:[..._0x31ebe1,..._0x446b1f],_0x16f26d=_0x540f6b[_0x2cf0de(0x1aa)](_0x2f74ea=>_0x272ea8?globalThis[_0x2cf0de(0x16e)][_0x2c9a07(0x164)](_0x2f74ea):!![]);_0x3fd81c&&_0x41f74f[_0x2cf0de(0x186)](_0x2cf0de(0x1b3)),_0x17d84b&&_0x41f74f[_0x2cf0de(0x186)](_0x2cf0de(0x1c7));let _0x584a83=0x1;for(const _0x2c457f of _0x41f74f){let _0x1d4212=0x1;for(const _0x4bff59 of _0x16f26d){for(const _0x3ad500 of _0x3dc296){const _0x3ac811=_0x446b1f[_0x2cf0de(0x160)](_0x3ad500),_0x229bcb=_0x3ac811?'C':_0x272ea8?'F':'',_0x4ef8f6=_0x3ac811?_0x5d122b:randomUpperCase(globalThis[_0x2c9a07(0x149)]),_0xa02fa5=_0x3ac811?_0x21212c:globalThis[_0x2cf0de(0x149)],_0x4a3053=generateRemark(_0x1d4212,_0x4bff59,_0x3ad500,_0x387718,_0x2c457f,_0x229bcb),_0x37121a=buildXrayConfig(_0x5453de,_0x4a3053,_0x272ea8,![],_0x1ec9bb,![],![]);_0x37121a[_0x2cf0de(0x1cf)]=await buildXrayDNS(_0x5453de,[_0x3ad500],undefined),_0x37121a['routing'][_0x2c9a07(0x143)]=buildXrayRoutingRules(_0x5453de,[_0x3ad500],_0x1ec9bb,![],![],![]);const _0x105a1a=_0x2c457f===_0x2c9a07(0x139)?buildXrayVLESSOutbound(_0x2cf0de(0x1d2),_0x3ad500,_0x4bff59,_0xa02fa5,_0x4ef8f6,_0x32ee69,_0x272ea8,_0x3ac811,_0x15fd5d):buildXrayTrojanOutbound(_0x2cf0de(0x1d2),_0x3ad500,_0x4bff59,_0xa02fa5,_0x4ef8f6,_0x32ee69,_0x272ea8,_0x3ac811,_0x15fd5d);_0x37121a[_0x4034ea(0x227)][_0x2c9a07(0x131)]({..._0x105a1a}),_0x105a1a[_0x2c9a07(0xd7)]=_0x2cf0de(0x162)+_0x584a83;if(_0x1ec9bb){_0x37121a[_0x2cf0de(0x14a)][_0x2cf0de(0x166)](_0x1ec9bb);const _0x49be88=structuredClone(_0x1ec9bb);_0x49be88[_0x2cf0de(0x181)]=_0x2cf0de(0x1e6)+_0x584a83,_0x49be88[_0x2cf0de(0x1b4)][_0x4034ea(0x234)][_0x2cf0de(0x1b9)]=_0x2c9a07(0xfd)+_0x584a83,_0x272eb0[_0x2cf0de(0x186)](_0x49be88);}_0x272eb0[_0x2cf0de(0x186)](_0x105a1a),_0x5465f2[_0x2cf0de(0x186)](_0x37121a),_0x584a83++,_0x1d4212++;}}}const _0x1e83f8=await buildXrayBestPingConfig(_0x5453de,_0x3dc296,_0x1ec9bb,_0x272eb0,_0x272ea8),_0x194739=[..._0x5465f2,_0x1e83f8];if(_0x272ea8){const _0x205086=await buildXrayBestFragmentConfig(_0x5453de,globalThis['hostName'],_0x1ec9bb,_0x272eb0),_0x3ac368=await buildXrayWorkerLessConfig(_0x5453de);_0x194739[_0x2cf0de(0x186)](_0x205086,_0x3ac368);}return new Response(JSON[_0x2cf0de(0x18b)](_0x194739,null,0x4),{'status':0xc8,'headers':{'Content-Type':_0x2cf0de(0x1dc),'Cache-Control':_0x2cf0de(0x1e0),'CDN-Cache-Control':_0x2cf0de(0x15d)}});}function a0_0x5294(_0xbc10aa,_0x46b100){const _0x516645=a0_0x5166();return a0_0x5294=function(_0x52947f,_0x5b710f){_0x52947f=_0x52947f-0x1ab;let _0x3e1dd6=_0x516645[_0x52947f];return _0x3e1dd6;},a0_0x5294(_0xbc10aa,_0x46b100);}export async function getXrayWarpConfigs(_0xbeaad5,_0x100480,_0x16fce4){const _0x289f44=a0_0x5294,_0x4ae9ea=a0_0xfa49,_0x572135=a0_0x4bf4,{proxySettings:_0x33681d,warpConfigs:_0x25a93b}=await getDataset(_0xbeaad5,_0x100480),_0x5c3df6=[],_0x16c751=[],_0x36eabf=[],_0x381c29=[],{warpEndpoints:_0x53694f}=_0x33681d,_0x4bff3c=_0x53694f[_0x572135(0x1bd)](',')[_0x572135(0x1d4)](_0x499968=>_0x499968[_0x572135(0x1bd)](':')[0x0])[_0x572135(0x1aa)](_0xec19f0=>isDomain(_0xec19f0)),_0x2484f7=_0x16fce4===_0x572135(0x1bb)?_0x572135(0x13e):'\x20';for(const [_0x12e856,_0x1066e5]of _0x53694f[_0x572135(0x1bd)](',')[_0x4ae9ea(0xe8)]()){const _0x252f3c=_0x1066e5[_0x572135(0x1bd)](':')[0x0],_0x215a0b=buildXrayConfig(_0x33681d,_0x572135(0x156)+(_0x12e856+0x1)+_0x572135(0x1bc)+_0x2484f7+_0x572135(0x154),![],![],![],![],!![]),_0x56f8fd=buildXrayConfig(_0x33681d,_0x572135(0x156)+(_0x12e856+0x1)+_0x572135(0x163)+_0x2484f7+'🌍',![],![],!![],![],!![]);_0x215a0b[_0x572135(0x1cf)]=_0x56f8fd[_0x4ae9ea(0xc7)]=await buildXrayDNS(_0x33681d,[_0x252f3c],undefined,![],!![]),_0x215a0b[_0x572135(0x17b)][_0x572135(0x169)]=buildXrayRoutingRules(_0x33681d,[_0x252f3c],![],![],![],!![]),_0x56f8fd[_0x572135(0x17b)][_0x572135(0x169)]=buildXrayRoutingRules(_0x33681d,[_0x252f3c],!![],![],![],!![]);const _0x12c84b=buildXrayWarpOutbound(_0x33681d,_0x25a93b,_0x1066e5,![],_0x16fce4),_0x1c8057=buildXrayWarpOutbound(_0x33681d,_0x25a93b,_0x1066e5,!![],_0x16fce4);_0x215a0b[_0x289f44(0x227)][_0x4ae9ea(0x131)](_0x12c84b),_0x56f8fd[_0x4ae9ea(0xf2)][_0x572135(0x166)](_0x1c8057,_0x12c84b),_0x5c3df6[_0x572135(0x186)](_0x215a0b),_0x16c751[_0x572135(0x186)](_0x56f8fd);const _0x35e71f=structuredClone(_0x12c84b);_0x35e71f[_0x4ae9ea(0xd7)]=_0x572135(0x162)+(_0x12e856+0x1);const _0x23a153=structuredClone(_0x1c8057);_0x23a153[_0x4ae9ea(0xd7)]=_0x572135(0x1e6)+(_0x12e856+0x1),_0x23a153[_0x572135(0x1b4)][_0x572135(0x1c5)][_0x572135(0x1b9)]=_0x572135(0x162)+(_0x12e856+0x1),_0x36eabf[_0x4ae9ea(0x121)](_0x35e71f),_0x381c29[_0x572135(0x186)](_0x23a153);}const _0x30ef41=await buildXrayDNS(_0x33681d,_0x4bff3c,undefined,![],!![]),_0xc1ad3f=buildXrayConfig(_0x33681d,_0x4ae9ea(0x11b)+_0x2484f7+_0x4ae9ea(0x129),![],!![],![],![],!![]);_0xc1ad3f[_0x572135(0x1cf)]=_0x30ef41,_0xc1ad3f[_0x572135(0x17b)][_0x572135(0x169)]=buildXrayRoutingRules(_0x33681d,_0x4bff3c,![],!![],![],!![]),_0xc1ad3f[_0x572135(0x14a)][_0x4ae9ea(0x131)](..._0x36eabf);const _0x3d3ba3=buildXrayConfig(_0x33681d,_0x4ae9ea(0x130)+_0x2484f7+_0x572135(0x1e4),![],!![],!![],![],!![]);_0x3d3ba3[_0x572135(0x1cf)]=_0x30ef41,_0x3d3ba3[_0x572135(0x17b)][_0x572135(0x169)]=buildXrayRoutingRules(_0x33681d,_0x4bff3c,!![],!![],![],!![]),_0x3d3ba3[_0x572135(0x14a)][_0x572135(0x166)](..._0x381c29,..._0x36eabf);const _0x519ca8=[..._0x5c3df6,..._0x16c751,_0xc1ad3f,_0x3d3ba3];return new Response(JSON[_0x4ae9ea(0x13a)](_0x519ca8,null,0x4),{'status':0xc8,'headers':{'Content-Type':_0x572135(0x1dc),'Cache-Control':_0x572135(0x1e0),'CDN-Cache-Control':_0x572135(0x15d)}});}const xrayConfigTemp={'remarks':'','log':{'loglevel':a0_0x4a3e4e(0x1d9)},'dns':{},'inbounds':[{'port':0x2a38,'protocol':a0_0x4a3e4e(0x14b),'settings':{'auth':a0_0x4a3e4e(0x15c),'udp':!![],'userLevel':0x8},'sniffing':{'destOverride':[a0_0x11ce76(0xf8),a0_0x4a3e4e(0x180)],'enabled':!![],'routeOnly':!![]},'tag':a0_0x4a3e4e(0x142)},{'port':0x2a39,'protocol':a0_0x4a3e4e(0x1b5),'settings':{'auth':a0_0x4a3e4e(0x15c),'udp':!![],'userLevel':0x8},'sniffing':{'destOverride':[a0_0x4a3e4e(0x1b5),'tls'],'enabled':!![],'routeOnly':!![]},'tag':a0_0x4a3e4e(0x1b0)},{'listen':a0_0x4a3e4e(0x1b8),'port':0x2a65,'protocol':a0_0x4a3e4e(0x1c0),'settings':{'address':a0_0x4a3e4e(0x152),'network':a0_0x4a3e4e(0x1dd),'port':0x35},'tag':a0_0x11ce76(0x135)}],'outbounds':[{'tag':a0_0x4a3e4e(0x1a4),'protocol':a0_0x4a3e4e(0x1b6),'settings':{'fragment':{'packets':'tlshello','length':'','interval':''},'domainStrategy':a0_0x4a3e4e(0x16c)},'streamSettings':{'sockopt':{'tcpKeepAliveIdle':0x1e,'tcpNoDelay':!![]}}},{'protocol':a0_0x17e9a8(0x211),'tag':'dns-out'},{'protocol':a0_0x4a3e4e(0x1b6),'settings':{},'tag':a0_0x4a3e4e(0x170)},{'protocol':a0_0x4a3e4e(0x18c),'settings':{'response':{'type':a0_0x4a3e4e(0x1b5)}},'tag':a0_0x4a3e4e(0x1ce)}],'policy':{'levels':{0x8:{'connIdle':0x12c,'downlinkOnly':0x1,'handshake':0x4,'uplinkOnly':0x1}},'system':{'statsOutboundUplink':!![],'statsOutboundDownlink':!![]}},'routing':{'domainStrategy':a0_0x4a3e4e(0x1c2),'rules':[],'balancers':[{'tag':a0_0x4a3e4e(0x14c),'selector':[a0_0x4a3e4e(0x140)],'strategy':{'type':a0_0x4a3e4e(0x153)}}]},'observatory':{'probeInterval':a0_0x11ce76(0x15c),'probeURL':a0_0x11ce76(0xe5),'subjectSelector':[a0_0x4a3e4e(0x140)],'EnableConcurrency':!![]},'stats':{}};