const a0_0x11ce76=a0_0xfa49;(function(_0x3ffde6,_0x276b3b){const _0x1e479f=a0_0xfa49,_0x295fbb=_0x3ffde6();while(!![]){try{const _0x366f96=-parseInt(_0x1e479f(0x13d))/0x1+parseInt(_0x1e479f(0x141))/0x2*(parseInt(_0x1e479f(0x122))/0x3)+parseInt(_0x1e479f(0xc2))/0x4*(-parseInt(_0x1e479f(0x156))/0x5)+parseInt(_0x1e479f(0x12c))/0x6+-parseInt(_0x1e479f(0x15f))/0x7+parseInt(_0x1e479f(0x128))/0x8*(-parseInt(_0x1e479f(0x100))/0x9)+parseInt(_0x1e479f(0xfe))/0xa;if(_0x366f96===_0x276b3b)break;else _0x295fbb['push'](_0x295fbb['shift']());}catch(_0xe345f1){_0x295fbb['push'](_0x295fbb['shift']());}}}(a0_0x29b2,0x5f8fb));function a0_0x4bf4(_0x4eb22f,_0x302d2a){const _0x2986f7=a0_0x5319();return a0_0x4bf4=function(_0x2a219e,_0xbf6349){_0x2a219e=_0x2a219e-0x13e;let _0x465b24=_0x2986f7[_0x2a219e];return _0x465b24;},a0_0x4bf4(_0x4eb22f,_0x302d2a);}const a0_0x4a3e4e=a0_0x4bf4;(function(_0x591a51,_0x1c2e21){const _0x5ea797=a0_0xfa49,_0xa3eacd=a0_0x4bf4,_0x574a35=_0x591a51();while(!![]){try{const _0x304a99=-parseInt(_0xa3eacd(0x1a2))/0x1+-parseInt(_0xa3eacd(0x164))/0x2*(parseInt(_0xa3eacd(0x158))/0x3)+parseInt(_0xa3eacd(0x16b))/0x4+-parseInt(_0xa3eacd(0x179))/0x5*(parseInt(_0xa3eacd(0x1d0))/0x6)+-parseInt(_0xa3eacd(0x199))/0x7+-parseInt(_0xa3eacd(0x1d3))/0x8+parseInt(_0xa3eacd(0x185))/0x9*(parseInt(_0xa3eacd(0x1a6))/0xa);if(_0x304a99===_0x1c2e21)break;else _0x574a35[_0x5ea797(0x121)](_0x574a35['shift']());}catch(_0x5d1dea){_0x574a35[_0x5ea797(0x121)](_0x574a35[_0x5ea797(0xdf)]());}}}(a0_0x5319,0xbc74e));import{resolveDNS,isDomain}from'../helpers/helpers';import{getConfigAddresses,extractWireguardParams,base64ToDecimal,generateRemark,randomUpperCase,getRandomPath}from'./helpers';import{getDataset}from'../kv/handlers';async function buildXrayDNS(_0x49f510,_0x3512f8,_0x4b77ab,_0x4d39e7,_0x570063){const _0x27a35c=a0_0xfa49,_0x2fb8af=a0_0x4bf4,{remoteDNS:_0x1116d3,resolvedRemoteDNS:_0x312c3a,localDNS:_0x41e5ed,vlessTrojanFakeDNS:_0x489a3f,enableIPv6:_0x47b708,warpFakeDNS:_0x386de4,warpEnableIPv6:_0x3ca4f9,blockAds:_0x24ea80,bypassIran:_0x52b2cc,bypassChina:_0xf5e9d6,blockPorn:_0x58b1d6,bypassRussia:_0xbb606,customBypassRules:_0x1d87a7,customBlockRules:_0x719e7d}=_0x49f510,_0x547f1c=[{'rule':_0x52b2cc,'domain':'geosite:category-ir','ip':_0x2fb8af(0x1bf)},{'rule':_0xf5e9d6,'domain':_0x2fb8af(0x167),'ip':_0x2fb8af(0x16d)},{'rule':_0xbb606,'domain':_0x2fb8af(0x161),'ip':_0x2fb8af(0x150)}],_0x1ffe5a=[{'rule':_0x24ea80,'host':_0x2fb8af(0x1e3)},{'rule':_0x24ea80,'host':'geosite:category-ads-ir'},{'rule':_0x58b1d6,'host':_0x2fb8af(0x17a)}],_0x2fee3e=_0x489a3f&&!_0x570063||_0x386de4&&_0x570063,_0x254baa=_0x47b708&&!_0x570063||_0x3ca4f9&&_0x570063,_0x18ba7d=_0x3512f8[_0x2fb8af(0x1aa)](_0x21b3d1=>isDomain(_0x21b3d1)),_0x53a0b1=_0x1d87a7[_0x2fb8af(0x1bd)](',')[_0x2fb8af(0x1aa)](_0x227ec3=>isDomain(_0x227ec3)),_0x1be78c=_0x719e7d[_0x2fb8af(0x1bd)](',')[_0x27a35c(0xeb)](_0x3d4883=>isDomain(_0x3d4883)),_0x14f1a7=[...new Set(_0x18ba7d)],_0x57e048=[..._0x14f1a7,..._0x53a0b1][_0x2fb8af(0x1da)]>0x0,_0x379483=_0x52b2cc||_0xf5e9d6||_0xbb606,_0x154897=_0x24ea80||_0x58b1d6||_0x1be78c[_0x2fb8af(0x1da)]>0x0,_0x364f9d=_0x4d39e7?[_0x2fb8af(0x1c6)]:_0x570063?_0x3ca4f9?[_0x2fb8af(0x152),_0x2fb8af(0x18e),_0x2fb8af(0x1a0),_0x2fb8af(0x1d6)]:[_0x2fb8af(0x152),_0x2fb8af(0x18e)]:[_0x1116d3],_0x3ccfc9={};_0x154897&&(_0x1ffe5a[_0x2fb8af(0x196)](({rule:_0x456397,host:_0x4ead13})=>{const _0x138e51=_0x27a35c;if(_0x456397)_0x3ccfc9[_0x4ead13]=[_0x138e51(0x10c)];}),_0x1be78c[_0x2fb8af(0x196)](_0x5839c3=>{_0x3ccfc9['domain:'+_0x5839c3]=['127.0.0.1'];}));const _0x4b8d20=_0x4b77ab?await resolveDNS(_0x4b77ab):undefined;if(_0x4b8d20)_0x3ccfc9[_0x4b77ab]=_0x47b708?[..._0x4b8d20[_0x2fb8af(0x193)],..._0x4b8d20[_0x27a35c(0xe2)]]:_0x4b8d20[_0x27a35c(0x10f)];if(_0x312c3a['server']&&!_0x4d39e7&&!_0x570063)_0x3ccfc9[_0x312c3a['server']]=_0x312c3a[_0x2fb8af(0x1cb)];if(_0x4d39e7){const _0x21f4f2=[_0x27a35c(0x12b),_0x2fb8af(0x1ba),_0x2fb8af(0x151)],_0x5a1658=await Promise[_0x2fb8af(0x14c)](_0x21f4f2['map'](resolveDNS)),_0x279eb8=_0x5a1658[_0x27a35c(0x153)](_0x2a7027=>_0x2a7027[_0x2fb8af(0x193)]),_0x4ca63d=_0x47b708?_0x5a1658[_0x27a35c(0x153)](_0x95a0f2=>_0x95a0f2[_0x27a35c(0xe2)]):[];_0x3ccfc9[_0x2fb8af(0x1a1)]=[..._0x279eb8,..._0x4ca63d];}const _0x21dcba=Object[_0x2fb8af(0x184)](_0x3ccfc9)[_0x27a35c(0x123)]?{'hosts':_0x3ccfc9}:{},_0x190b82={..._0x21dcba,'servers':_0x364f9d,'queryStrategy':_0x254baa?_0x2fb8af(0x16c):_0x27a35c(0x11e),'tag':_0x2fb8af(0x1cf)};if(_0x57e048){const _0x5c6a67=_0x14f1a7[_0x2fb8af(0x1d4)](_0x17928e=>_0x2fb8af(0x159)+_0x17928e),_0x239acd=_0x53a0b1['map'](_0x1b4795=>_0x2fb8af(0x155)+_0x1b4795);_0x190b82[_0x2fb8af(0x19b)][_0x2fb8af(0x186)]({'address':_0x41e5ed,'domains':[..._0x5c6a67,..._0x239acd],'skipFallback':!![]});}const _0x29ed1f={'address':_0x41e5ed,'domains':[],'expectIPs':[],'skipFallback':!![]};!_0x4d39e7&&_0x379483&&(_0x547f1c[_0x2fb8af(0x196)](({rule:_0x570538,domain:_0x3d87fa,ip:_0x2d1533})=>{const _0x1bec9e=_0x2fb8af;_0x570538&&(_0x29ed1f[_0x1bec9e(0x15e)][_0x1bec9e(0x186)](_0x3d87fa),_0x29ed1f['expectIPs'][_0x1bec9e(0x186)](_0x2d1533));}),_0x190b82[_0x2fb8af(0x19b)][_0x2fb8af(0x186)](_0x29ed1f));if(_0x2fee3e){const _0xb9e052=_0x379483&&!_0x4d39e7?{'address':_0x27a35c(0x133),'domains':_0x29ed1f[_0x2fb8af(0x15e)]}:_0x2fb8af(0x157);_0x190b82[_0x2fb8af(0x19b)][_0x2fb8af(0x166)](_0xb9e052);}return _0x190b82;}function buildXrayRoutingRules(_0x4ce1a6,_0x4137b7,_0x4e6cbe,_0x456a5d,_0xc6331a,_0x529161){const _0x116051=a0_0xfa49,_0x1e3183=a0_0x4bf4,{remoteDNS:_0x15a5d9,localDNS:_0x421c1a,bypassLAN:_0x33e535,bypassIran:_0x3a5af,bypassChina:_0x621249,bypassRussia:_0x3ba94a,blockAds:_0x136f33,blockPorn:_0x152095,blockUDP443:_0x5be1ff,customBypassRules:_0x59fc97,customBlockRules:_0x2ebb19}=_0x4ce1a6,_0x10e3cf=[{'rule':_0x33e535,'type':_0x116051(0xfa),'domain':_0x1e3183(0x1c1),'ip':_0x1e3183(0x182)},{'rule':_0x3a5af,'type':_0x116051(0xfa),'domain':_0x116051(0x147),'ip':_0x1e3183(0x1bf)},{'rule':_0x621249,'type':_0x1e3183(0x170),'domain':_0x1e3183(0x167),'ip':_0x1e3183(0x16d)},{'rule':_0x136f33,'type':'block','domain':_0x1e3183(0x1e3)},{'rule':_0x136f33,'type':_0x1e3183(0x1ce),'domain':_0x116051(0x108)},{'rule':_0x152095,'type':_0x1e3183(0x1ce),'domain':_0x116051(0x10a)}],_0x1b69a1=_0x4137b7[_0x1e3183(0x1aa)](_0x3cb565=>isDomain(_0x3cb565)),_0x80b2e1=_0x59fc97?_0x59fc97[_0x1e3183(0x1bd)](','):[],_0x1e0563=_0x2ebb19?_0x2ebb19[_0x1e3183(0x1bd)](','):[],_0x1a360a=_0x80b2e1[_0x1e3183(0x1aa)](_0x1396df=>isDomain(_0x1396df)),_0x161477=[..._0x1b69a1,..._0x1a360a][_0x1e3183(0x1da)]>0x0,_0x5eadf7=_0x136f33||_0x152095||_0x1e0563['length']>0x0,_0x563283=_0x3a5af||_0x621249||_0x3ba94a||_0x80b2e1[_0x1e3183(0x1da)]>0x0,_0x11ea07=[{'inboundTag':[_0x116051(0x135)],'outboundTag':_0x1e3183(0x15b),'type':_0x116051(0xf6)},{'inboundTag':[_0x1e3183(0x142),_0x116051(0x12f)],'port':'53','outboundTag':_0x116051(0xf5),'type':_0x1e3183(0x146)}];if(!_0xc6331a&&(_0x161477||_0x563283))_0x11ea07[_0x1e3183(0x186)]({'ip':[_0x421c1a],'port':'53','network':_0x1e3183(0x1a9),'outboundTag':_0x1e3183(0x170),'type':_0x1e3183(0x146)});if(_0x563283||_0x5eadf7){const _0x10cace=(_0x51a592,_0x430f1b)=>({[_0x51a592]:[],'outboundTag':_0x430f1b,'type':_0x1e3183(0x146)});let _0x2f1e7e,_0x1e5712;!_0xc6331a&&(_0x2f1e7e=_0x10cace(_0x1e3183(0x1ca),_0x1e3183(0x170)),_0x1e5712=_0x10cace('ip',_0x1e3183(0x170)));let _0x1e5fbc=_0x10cace(_0x116051(0x118),'block'),_0x4b8bee=_0x10cace('ip',_0x1e3183(0x1ce));_0x10e3cf[_0x116051(0xf7)](({rule:_0x2c62cb,type:_0x1240e0,domain:_0x14539e,ip:_0x1cf7e0})=>{const _0x19ac92=_0x116051,_0x426998=_0x1e3183;_0x2c62cb&&(_0x1240e0===_0x426998(0x170)?(_0x2f1e7e?.[_0x426998(0x1ca)][_0x426998(0x186)](_0x14539e),_0x1e5712?.['ip']?.['push'](_0x1cf7e0)):_0x1e5fbc[_0x426998(0x1ca)][_0x19ac92(0x121)](_0x14539e));}),_0x80b2e1[_0x116051(0xf7)](_0x1068c6=>{const _0x3079d4=_0x116051,_0x8443ad=_0x1e3183;isDomain(_0x1068c6)?_0x2f1e7e?.[_0x8443ad(0x1ca)][_0x3079d4(0x121)](_0x3079d4(0x112)+_0x1068c6):_0x1e5712?.['ip']['push'](_0x1068c6);}),_0x1e0563[_0x1e3183(0x196)](_0x51e465=>{const _0x17b6ba=_0x116051,_0x3638d1=_0x1e3183;isDomain(_0x51e465)?_0x1e5fbc[_0x3638d1(0x1ca)][_0x17b6ba(0x121)](_0x3638d1(0x155)+_0x51e465):_0x4b8bee['ip'][_0x3638d1(0x186)](_0x51e465);}),!_0xc6331a&&(_0x2f1e7e['domain'][_0x1e3183(0x1da)]&&_0x11ea07[_0x1e3183(0x186)](_0x2f1e7e),_0x1e5712['ip'][_0x1e3183(0x1da)]&&_0x11ea07[_0x1e3183(0x186)](_0x1e5712)),_0x1e5fbc[_0x1e3183(0x1ca)][_0x1e3183(0x1da)]&&_0x11ea07[_0x1e3183(0x186)](_0x1e5fbc),_0x4b8bee['ip'][_0x1e3183(0x1da)]&&_0x11ea07[_0x1e3183(0x186)](_0x4b8bee);}_0x5be1ff&&_0x11ea07[_0x1e3183(0x186)]({'network':_0x1e3183(0x1a9),'port':_0x1e3183(0x165),'outboundTag':_0x1e3183(0x1ce),'type':_0x1e3183(0x146)});if(_0x4e6cbe){const _0x3c442b={[_0x456a5d?_0x1e3183(0x1d8):_0x1e3183(0x1e2)]:_0x456a5d?_0x1e3183(0x17c):_0x1e3183(0x1d2),'type':_0x1e3183(0x146)};if(!_0x529161){const _0x1ebff3=new URL(_0x15a5d9),_0x4889e7=_0x1ebff3[_0x1e3183(0x19e)];_0x11ea07[_0x1e3183(0x186)]({[isDomain(_0x4889e7)?_0x116051(0x118):'ip']:[_0x4889e7],'network':_0x1e3183(0x195),..._0x3c442b});}else _0x11ea07[_0x1e3183(0x186)]({'network':_0x1e3183(0x1a9),'port':'53',..._0x3c442b});}return _0x456a5d?_0x11ea07[_0x1e3183(0x186)]({'network':_0x1e3183(0x1dd),'balancerTag':_0x1e3183(0x14c),'type':_0x1e3183(0x146)}):_0x11ea07[_0x1e3183(0x186)]({'network':_0x116051(0x157),'outboundTag':_0x4e6cbe?_0x1e3183(0x1c4):_0xc6331a?_0x116051(0xcf):_0x1e3183(0x1d2),'type':_0x1e3183(0x146)}),_0x11ea07;}function a0_0x29b2(){const _0xbfaa0e=['path','UseIPv4v6','subjectSelector','geosite:category-ir','40-60','hostName','domainStrategy','geosite:category-ru','settings','google.com','randomized','blackhole','geosite:cn','1.1.1.1','443','flatMap','freedom','UseIP','1899785jBtyLg','tcp,udp','servers','geoip:private','üáÆüá∑','50-70','30s','451236DFrVfE','Trojan','1453809ysQveq','streamSettings','inbounds','geoip:ru','?ed=2560','includes','/tr','1.1','all-proxy','prox-2','socks','10-20','\x20-\x20Warp','nikang','25044Apunqz','remarks','1.0.0.1','GET','dokodemo-door','4Aqomvx','üí¶\x20BPB\x20F\x20-\x20Best\x20Ping\x20üí•','none','all','destOverride','dns','routing','tlsSettings','block','outboundTag','keys','geosite:private','fallbackTag','fragment','text/plain;charset=utf-8','socks-in','30-50','vless','20-30','419290oknqlE','200','tag','frag-','no-store,\x20no-cache,\x20must-revalidate,\x20proxy-revalidate','6020eFukYU','üí¶\x20BPB\x20F\x20-\x20WorkerLess\x20‚≠ê','warning','tcp','no-store','shift','noauth','geoip:ir','ipv6','40-50','chain-2','https://www.gstatic.com/generate_204','70-90','50-60','entries','application/octet-stream','100-200','filter','staticIPs','60-70','log','sockopt','20-40','tcpSettings','outbounds','balancerTag','packets','dns-out','field','forEach','http','sniffing','direct','defaultHttpsPorts','grpc','prox-','20293470vGXXUt','prox','153eIidyV','probeInterval','IPIfNonMatch','dialerProxy','interval','70-80','10-30','balancers','geosite:category-ads-ir','security','geosite:category-porn','An\x20error\x20occured\x20while\x20parsing\x20chain\x20proxy:\x20','127.0.0.1','assign','1-1','ipv4','trojanPassword','protocol','domain:','parse','11694272aByjfe','http/1.1','proxySettings','auto','domain','80-90','chain-','üí¶\x20Warp','split','35IbfpfW','UseIPv4','proxy','\x20Pro\x20','push','24BGaDrR','length','172.16.0.2/32','2606:4700:4700::1111','230QLwzBc','realitySettings','261616GdwyLs','-\x20Best\x20Ping\x20üöÄ','hostname','cloudflare-dns.com','414396sXJSSS','60-80','https://cloudflare-dns.com/dns-query','http-in','üí¶\x20WoW','unshift','trojan','fakedns','üí¶\x20BPB\x20-\x20Best\x20Ping\x20üí•','dns-in','udp','üí¶\x20','\x20-\x20WoW','VLESS','stringify','map','2606:4700:4700::1001','743584KndRtq','1041503AHgmLG','full:','wsSettings','45042eHbzrd','chain','rules'];a0_0x29b2=function(){return _0xbfaa0e;};return a0_0x29b2();}function buildXrayVLESSOutbound(_0x1d06d8,_0x55664c,_0x26b6e5,_0x3bf162,_0x2ce337,_0x525c99,_0xa41e2a,_0x3c801a,_0x3621d5){const _0xb6e3a0=a0_0xfa49,_0x262235=a0_0x4bf4,_0x1c79be={'protocol':_0xb6e3a0(0xd3),'settings':{'vnext':[{'address':_0x55664c,'port':+_0x26b6e5,'users':[{'id':globalThis[_0x262235(0x15a)],'encryption':_0xb6e3a0(0xc4),'level':0x8}]}]},'streamSettings':{'network':'ws','security':_0x262235(0x190),'sockopt':{},'wsSettings':{'headers':{'Host':_0x3bf162,'User-Agent':_0x262235(0x1d1)},'path':'/'+getRandomPath(0x10)+(_0x525c99?'/'+btoa(_0x525c99):'')+_0xb6e3a0(0x163)}},'tag':_0x1d06d8};globalThis[_0xb6e3a0(0xfb)][_0x262235(0x160)](_0x26b6e5)&&(_0x1c79be[_0x262235(0x1b4)][_0x262235(0x1c3)]=_0x262235(0x180),_0x1c79be[_0x262235(0x1b4)][_0x262235(0x14f)]={'allowInsecure':_0x3c801a,'fingerprint':_0x262235(0x1be),'alpn':['h2',_0x262235(0x1b2)],'serverName':_0x2ce337});const _0x570a72=_0x1c79be[_0x262235(0x1b4)][_0x262235(0x1c5)];return _0xa41e2a?_0x570a72[_0xb6e3a0(0x103)]=_0xb6e3a0(0xcf):(_0x570a72[_0x262235(0x1d5)]=0x1e,_0x570a72[_0x262235(0x173)]=!![],_0x570a72[_0x262235(0x1a8)]=_0x3621d5?_0x262235(0x1cc):_0x262235(0x1df)),_0x1c79be;}function buildXrayTrojanOutbound(_0x34157f,_0x2c026d,_0x2ded6d,_0x62ded7,_0x199c3a,_0x2dbba4,_0xb0c7ab,_0x336137,_0xc0434d){const _0x2d4447=a0_0xfa49,_0x9e9e55=a0_0x4bf4,_0x326ea7={'protocol':_0x2d4447(0x132),'settings':{'servers':[{'address':_0x2c026d,'port':+_0x2ded6d,'password':globalThis[_0x9e9e55(0x16a)],'level':0x8}]},'streamSettings':{'network':'ws','security':_0x9e9e55(0x190),'sockopt':{},'wsSettings':{'headers':{'Host':_0x62ded7},'path':_0x9e9e55(0x18a)+getRandomPath(0x10)+(_0x2dbba4?'/'+btoa(_0x2dbba4):'')+_0x9e9e55(0x1a7)}},'tag':_0x34157f};globalThis['defaultHttpsPorts'][_0x9e9e55(0x160)](_0x2ded6d)&&(_0x326ea7[_0x9e9e55(0x1b4)][_0x9e9e55(0x1c3)]=_0x9e9e55(0x180),_0x326ea7[_0x9e9e55(0x1b4)][_0x9e9e55(0x14f)]={'allowInsecure':_0x336137,'fingerprint':_0x9e9e55(0x1be),'alpn':['h2',_0x9e9e55(0x1b2)],'serverName':_0x199c3a});const _0x21689b=_0x326ea7[_0x2d4447(0x160)][_0x9e9e55(0x1c5)];return _0xb0c7ab?_0x21689b[_0x9e9e55(0x1b9)]=_0x9e9e55(0x1a4):(_0x21689b[_0x9e9e55(0x1d5)]=0x1e,_0x21689b[_0x9e9e55(0x173)]=!![],_0x21689b[_0x9e9e55(0x1a8)]=_0xc0434d?_0x9e9e55(0x1cc):_0x9e9e55(0x1df)),_0x326ea7;}function buildXrayWarpOutbound(_0x146619,_0x378549,_0x45442e,_0xb3b2cf,_0x3bb82e){const _0x1f3a12=a0_0xfa49,_0xe64f61=a0_0x4bf4,{warpEnableIPv6:_0x4f0225,nikaNGNoiseMode:_0x3e87a4,noiseCountMin:_0x50eba8,noiseCountMax:_0x406e6c,noiseSizeMin:_0x5685f5,noiseSizeMax:_0x8eb164,noiseDelayMin:_0x5b81a2,noiseDelayMax:_0x14a7f6}=_0x146619,{warpIPv6:_0x5c8e98,reserved:_0x36c510,publicKey:_0xbcd9c,privateKey:_0x582e18}=extractWireguardParams(_0x378549,_0xb3b2cf),_0x5a437a={'protocol':_0xe64f61(0x168),'settings':{'address':[_0xe64f61(0x16f),_0x5c8e98],'mtu':0x500,'peers':[{'endpoint':_0x45442e,'publicKey':_0xbcd9c,'keepAlive':0x5}],'reserved':base64ToDecimal(_0x36c510),'secretKey':_0x582e18},'streamSettings':{'sockopt':{'dialerProxy':_0xe64f61(0x1d2),'domainStrategy':_0x4f0225?_0xe64f61(0x1cc):_0xe64f61(0x1df)}},'tag':_0xb3b2cf?_0x1f3a12(0x142):_0xe64f61(0x1d2)};return!_0xb3b2cf&&delete _0x5a437a[_0xe64f61(0x1b4)],_0x3bb82e===_0x1f3a12(0x16c)&&!_0xb3b2cf&&Object[_0xe64f61(0x174)](_0x5a437a[_0xe64f61(0x14e)],{'wnoise':_0x3e87a4,'wnoisecount':_0x50eba8===_0x406e6c?_0x50eba8:_0x50eba8+'-'+_0x406e6c,'wpayloadsize':_0x5685f5===_0x8eb164?_0x5685f5:_0x5685f5+'-'+_0x8eb164,'wnoisedelay':_0x5b81a2===_0x14a7f6?_0x5b81a2:_0x5b81a2+'-'+_0x14a7f6}),_0x5a437a;}function buildXrayChainOutbound(_0x57d453,_0x194ba1){const _0x102608=a0_0xfa49,_0x1e15eb=a0_0x4bf4;if([_0x102608(0x169),'http'][_0x1e15eb(0x160)](_0x57d453[_0x1e15eb(0x194)])){const {protocol:_0x592285,server:_0x17375d,port:_0x2d9630,user:_0x1196af,pass:_0x3789ac}=_0x57d453;return{'protocol':_0x592285,'settings':{'servers':[{'address':_0x17375d,'port':+_0x2d9630,'users':[{'user':_0x1196af,'pass':_0x3789ac,'level':0x8}]}]},'streamSettings':{'network':_0x1e15eb(0x195),'sockopt':{'dialerProxy':_0x1e15eb(0x1d2),'domainStrategy':_0x194ba1?_0x102608(0x145):_0x1e15eb(0x1df),'tcpNoDelay':!![]}},'mux':{'enabled':!![],'concurrency':0x8,'xudpConcurrency':0x10,'xudpProxyUDP443':_0x1e15eb(0x1a5)},'tag':'chain'};}const {server:_0x312916,port:_0x30c82c,uuid:_0x506464,flow:_0x4325ec,security:_0x34d637,type:_0x2b1fe7,sni:_0x324e95,fp:_0x27a97e,alpn:_0xb13315,pbk:_0x1a0d45,sid:_0x1f8125,spx:_0xa539c4,headerType:_0x27ee1e,host:_0x1333e0,path:_0x500dd1,authority:_0x4c45d1,serviceName:_0x4bfd71,mode:_0x275559}=_0x57d453,_0x2265f2={'mux':{'concurrency':0x8,'enabled':!![],'xudpConcurrency':0x10,'xudpProxyUDP443':_0x1e15eb(0x1a5)},'protocol':_0x1e15eb(0x191),'settings':{'vnext':[{'address':_0x312916,'port':+_0x30c82c,'users':[{'encryption':_0x1e15eb(0x190),'flow':_0x4325ec,'id':_0x506464,'level':0x8,'security':_0x1e15eb(0x147)}]}]},'streamSettings':{'network':_0x2b1fe7,'security':_0x34d637,'sockopt':{'dialerProxy':_0x1e15eb(0x1d2),'domainStrategy':_0x194ba1?'UseIPv4v6':_0x1e15eb(0x1df),'tcpNoDelay':!![]}},'tag':'chain'};if(_0x34d637===_0x1e15eb(0x180)){const _0x5106a9=_0xb13315?_0xb13315?.[_0x1e15eb(0x1bd)](','):[];_0x2265f2[_0x1e15eb(0x1b4)][_0x1e15eb(0x14f)]={'allowInsecure':![],'fingerprint':_0x27a97e,'alpn':_0x5106a9,'serverName':_0x324e95};}_0x34d637===_0x1e15eb(0x192)&&(delete _0x2265f2[_0x1e15eb(0x178)],_0x2265f2[_0x102608(0x160)][_0x1e15eb(0x175)]={'fingerprint':_0x27a97e,'publicKey':_0x1a0d45,'serverName':_0x324e95,'shortId':_0x1f8125,'spiderX':_0xa539c4});if(_0x27ee1e===_0x102608(0xf8)){const _0x20d15b=_0x500dd1?.[_0x102608(0x11c)](','),_0x59e9f3=_0x1333e0?.[_0x1e15eb(0x1bd)](',');_0x2265f2[_0x1e15eb(0x1b4)][_0x1e15eb(0x13f)]={'header':{'request':{'headers':{'Host':_0x59e9f3},'method':_0x102608(0xc0),'path':_0x20d15b,'version':_0x102608(0x166)},'response':{'headers':{'Content-Type':[_0x1e15eb(0x183)]},'reason':'OK','status':_0x1e15eb(0x144),'version':_0x102608(0x166)},'type':_0x102608(0xf8)}};}if(_0x2b1fe7===_0x1e15eb(0x195)&&_0x34d637!==_0x1e15eb(0x192)&&!_0x27ee1e)_0x2265f2[_0x1e15eb(0x1b4)][_0x1e15eb(0x13f)]={'header':{'type':_0x102608(0xc4)}};if(_0x2b1fe7==='ws')_0x2265f2[_0x1e15eb(0x1b4)][_0x1e15eb(0x172)]={'headers':{'Host':_0x1333e0},'path':_0x500dd1};return _0x2b1fe7===_0x1e15eb(0x17d)&&(delete _0x2265f2[_0x1e15eb(0x178)],_0x2265f2[_0x1e15eb(0x1b4)][_0x1e15eb(0x1ac)]={'authority':_0x4c45d1,'multiMode':_0x275559===_0x1e15eb(0x141),'serviceName':_0x4bfd71}),_0x2265f2;}function buildXrayConfig(_0x76caf,_0x5549de,_0x5495b2,_0x2c1a09,_0x483772,_0x18ad63,_0x298580){const _0x58f0d9=a0_0xfa49,_0x1fa3c5=a0_0x4bf4,{vlessTrojanFakeDNS:_0x252f8c,enableIPv6:_0x41efe8,warpFakeDNS:_0x5352e4,bestVLESSTrojanInterval:_0xc43388,bestWarpInterval:_0x4d4ae9,lengthMin:_0x408c91,lengthMax:_0x1982e9,intervalMin:_0x1c2ddb,intervalMax:_0x209037,fragmentPackets:_0x4e42b2}=_0x76caf,_0x2751c2=_0x252f8c&&!_0x298580||_0x5352e4&&_0x298580,_0x41744a=structuredClone(xrayConfigTemp);_0x41744a[_0x1fa3c5(0x15f)]=_0x5549de,_0x2751c2&&(_0x41744a[_0x1fa3c5(0x1ae)][0x0][_0x1fa3c5(0x1de)][_0x1fa3c5(0x19f)][_0x58f0d9(0x121)](_0x1fa3c5(0x157)),_0x41744a[_0x1fa3c5(0x1ae)][0x1][_0x1fa3c5(0x1de)][_0x1fa3c5(0x19f)][_0x58f0d9(0x121)](_0x1fa3c5(0x157)));if(_0x5495b2){const _0x59931e=_0x41744a[_0x1fa3c5(0x14a)][0x0][_0x1fa3c5(0x14e)][_0x1fa3c5(0x1a4)];_0x59931e[_0x1fa3c5(0x1da)]=_0x408c91+'-'+_0x1982e9,_0x59931e[_0x1fa3c5(0x143)]=_0x1c2ddb+'-'+_0x209037,_0x59931e[_0x1fa3c5(0x1c9)]=_0x4e42b2,_0x41744a[_0x1fa3c5(0x14a)][0x0][_0x58f0d9(0x14c)][_0x1fa3c5(0x1a8)]=_0x41efe8?_0x1fa3c5(0x1cc):_0x1fa3c5(0x1df);}else _0x41744a[_0x1fa3c5(0x14a)][_0x1fa3c5(0x177)]();if(_0x2c1a09){const _0x4bfcab=_0x298580?_0x4d4ae9:_0xc43388;_0x41744a[_0x1fa3c5(0x14d)][_0x1fa3c5(0x1b1)]=_0x4bfcab+'s';if(_0x18ad63)_0x41744a[_0x58f0d9(0xc8)][_0x1fa3c5(0x18d)][0x0][_0x1fa3c5(0x1af)]=_0x58f0d9(0x168);if(_0x483772){_0x41744a[_0x1fa3c5(0x14d)][_0x58f0d9(0x146)][_0x1fa3c5(0x186)](_0x1fa3c5(0x1c4));const _0x24aed8=structuredClone(_0x41744a[_0x1fa3c5(0x17b)][_0x1fa3c5(0x18d)][0x0]);if(_0x18ad63)_0x24aed8[_0x1fa3c5(0x1af)]=_0x58f0d9(0xe4);_0x41744a[_0x1fa3c5(0x17b)][_0x1fa3c5(0x18d)][_0x1fa3c5(0x186)]({..._0x24aed8,'selector':[_0x1fa3c5(0x1c4)]}),_0x41744a[_0x58f0d9(0xc8)][_0x58f0d9(0x107)][0x0][_0x58f0d9(0xd7)]=_0x1fa3c5(0x17c);}}else delete _0x41744a[_0x1fa3c5(0x14d)],delete _0x41744a[_0x58f0d9(0xc8)][_0x1fa3c5(0x18d)];return _0x41744a;}async function buildXrayBestPingConfig(_0x47a69b,_0x33e662,_0x25e646,_0x16fcd6,_0x158bdb){const _0x2e3286=a0_0xfa49,_0x2d0ee8=a0_0x4bf4,_0x833c6f=_0x158bdb?_0x2e3286(0xc3):_0x2e3286(0x134),_0x435564=buildXrayConfig(_0x47a69b,_0x833c6f,_0x158bdb,!![],_0x25e646,!![]);return _0x435564[_0x2d0ee8(0x1cf)]=await buildXrayDNS(_0x47a69b,_0x33e662,undefined,![],![]),_0x435564['routing'][_0x2d0ee8(0x169)]=buildXrayRoutingRules(_0x47a69b,_0x33e662,_0x25e646,!![],![],![]),_0x435564[_0x2d0ee8(0x14a)][_0x2d0ee8(0x166)](..._0x16fcd6),_0x435564;}async function buildXrayBestFragmentConfig(_0x1d1cbd,_0x5a1246,_0x5a4b8a,_0xace55e){const _0x22c418=a0_0xfa49,_0x30607b=a0_0x4bf4,_0x5b1f45=[_0x30607b(0x1e5),_0x30607b(0x1b7),'30-40',_0x30607b(0x171),_0x22c418(0xe7),_0x30607b(0x1db),_0x30607b(0x19c),_0x30607b(0x1c8),'90-100',_0x30607b(0x197),_0x30607b(0x1a3),_0x22c418(0xd2),_0x30607b(0x1ad),_0x30607b(0x17f),_0x30607b(0x187),_0x30607b(0x1cd),'80-100',_0x30607b(0x1e1)],_0x18b942=buildXrayConfig(_0x1d1cbd,_0x30607b(0x1ab),!![],!![],_0x5a4b8a,![],![]);_0x18b942[_0x30607b(0x1cf)]=await buildXrayDNS(_0x1d1cbd,[],_0x5a1246,![],![]),_0x18b942[_0x30607b(0x17b)][_0x22c418(0x143)]=buildXrayRoutingRules(_0x1d1cbd,[],_0x5a4b8a,!![],![],![]);const _0x1e27ca=_0x18b942['outbounds'][_0x30607b(0x177)](),_0x93940e=[];return _0x5b1f45[_0x30607b(0x196)]((_0x34eb6a,_0x4250ad)=>{const _0x113a25=_0x22c418,_0x1b28ef=_0x30607b;if(_0x5a4b8a){const _0x2d05e8=structuredClone(_0x5a4b8a);_0x2d05e8[_0x1b28ef(0x181)]=_0x113a25(0x11a)+(_0x4250ad+0x1),_0x2d05e8[_0x1b28ef(0x1b4)][_0x1b28ef(0x1c5)][_0x1b28ef(0x1b9)]=_0x1b28ef(0x162)+(_0x4250ad+0x1),_0x93940e[_0x1b28ef(0x186)](_0x2d05e8);}const _0x52d0b5=structuredClone(_0xace55e[_0x5a4b8a?0x1:0x0]);_0x52d0b5[_0x1b28ef(0x181)]=_0x1b28ef(0x162)+(_0x4250ad+0x1),_0x52d0b5[_0x113a25(0x160)][_0x1b28ef(0x1c5)][_0x113a25(0x103)]=_0x1b28ef(0x145)+(_0x4250ad+0x1);const _0x31fd62=structuredClone(_0x1e27ca);_0x31fd62['tag']=_0x1b28ef(0x145)+(_0x4250ad+0x1),_0x31fd62[_0x1b28ef(0x14e)]['fragment'][_0x1b28ef(0x1da)]=_0x34eb6a,_0x31fd62[_0x1b28ef(0x14e)][_0x113a25(0xcf)][_0x1b28ef(0x143)]=_0x1b28ef(0x18f),_0x93940e[_0x1b28ef(0x186)](_0x52d0b5,_0x31fd62);}),_0x18b942[_0x22c418(0xf2)][_0x30607b(0x166)](..._0x93940e),_0x18b942;}function a0_0xfa49(_0x936d41,_0xc20194){const _0x29b216=a0_0x29b2();return a0_0xfa49=function(_0xfa498a,_0x49189b){_0xfa498a=_0xfa498a-0xc0;let _0x4b00db=_0x29b216[_0xfa498a];return _0x4b00db;},a0_0xfa49(_0x936d41,_0xc20194);}function a0_0x5319(){const _0x5e9251=a0_0xfa49,_0x5371e3=[_0x5e9251(0xc9),_0x5e9251(0x162),'dash.cloudflare.com',_0x5e9251(0x151),'leastPing',_0x5e9251(0x15a),'domain:',_0x5e9251(0x137),'fakedns',_0x5e9251(0x16d),_0x5e9251(0x13f),'userID',_0x5e9251(0xf5),_0x5e9251(0xe0),_0x5e9251(0xde),'domains',_0x5e9251(0x16e),'includes',_0x5e9251(0x14b),_0x5e9251(0xfd),_0x5e9251(0x138),_0x5e9251(0x126),_0x5e9251(0x152),'unshift',_0x5e9251(0x150),'wireguard',_0x5e9251(0x143),_0x5e9251(0x110),_0x5e9251(0xda),_0x5e9251(0x155),'geoip:cn','defaultHttpsPorts',_0x5e9251(0x124),_0x5e9251(0xfa),_0x5e9251(0xe3),_0x5e9251(0x140),'tcpNoDelay',_0x5e9251(0x10d),_0x5e9251(0x127),'bpb',_0x5e9251(0xdf),'mux',_0x5e9251(0x11d),'geosite:category-porn',_0x5e9251(0xc8),_0x5e9251(0x167),_0x5e9251(0xfc),_0x5e9251(0x116),_0x5e9251(0x15b),'tls','tag',_0x5e9251(0x159),_0x5e9251(0xe9),_0x5e9251(0xcc),'1089fRtirg',_0x5e9251(0x121),_0x5e9251(0x12d),_0x5e9251(0xdb),_0x5e9251(0xee),_0x5e9251(0x165),_0x5e9251(0x13a),_0x5e9251(0x14f),_0x5e9251(0x107),_0x5e9251(0x16f),_0x5e9251(0x10e),'none',_0x5e9251(0xd3),'reality',_0x5e9251(0x10f),_0x5e9251(0x111),_0x5e9251(0xdd),_0x5e9251(0xf7),_0x5e9251(0x106),'put','2192729cNrrIn','fake-outbound',_0x5e9251(0x158),_0x5e9251(0x105),_0x5e9251(0x144),_0x5e9251(0x12a),_0x5e9251(0xc6),_0x5e9251(0x125),_0x5e9251(0x12b),_0x5e9251(0x13e),_0x5e9251(0xf0),'fragment','reject',_0x5e9251(0xd5),_0x5e9251(0x163),_0x5e9251(0x14a),_0x5e9251(0x136),_0x5e9251(0xeb),'üí¶\x20BPB\x20F\x20-\x20Best\x20Fragment\x20üòé','grpcSettings',_0x5e9251(0x148),_0x5e9251(0x161),_0x5e9251(0xce),_0x5e9251(0x12f),_0x5e9251(0x101),_0x5e9251(0x115),_0x5e9251(0x139),_0x5e9251(0x160),_0x5e9251(0xf8),_0x5e9251(0x154),_0x5e9251(0xd4),'127.0.0.1',_0x5e9251(0x103),'cloudflare.com',_0x5e9251(0x16c),_0x5e9251(0x16b),'split',_0x5e9251(0x14e),_0x5e9251(0xe1),_0x5e9251(0xc1),_0x5e9251(0xcd),_0x5e9251(0x102),_0x5e9251(0x109),'chain',_0x5e9251(0xef),_0x5e9251(0x12e),_0x5e9251(0x15e),_0x5e9251(0x119),_0x5e9251(0xf4),_0x5e9251(0x118),_0x5e9251(0xec),_0x5e9251(0x145),_0x5e9251(0xe6),_0x5e9251(0xca),_0x5e9251(0xc7),_0x5e9251(0x15d),'Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/127.0.0.0\x20Safari/537.36',_0x5e9251(0x11f),_0x5e9251(0x114),_0x5e9251(0x13b),'tcpKeepAliveIdle',_0x5e9251(0x13c),_0x5e9251(0x14d),_0x5e9251(0xf3),_0x5e9251(0xdc),'length',_0x5e9251(0xed),_0x5e9251(0xd0),_0x5e9251(0x157),_0x5e9251(0xf9),_0x5e9251(0x11e),_0x5e9251(0xd9),_0x5e9251(0xea),_0x5e9251(0xcb),'geosite:category-ads-all',_0x5e9251(0x129),_0x5e9251(0x16a),'chain-',_0x5e9251(0x120),_0x5e9251(0xf1),_0x5e9251(0xff),'multi',_0x5e9251(0xd1),_0x5e9251(0x104),_0x5e9251(0xd6),_0x5e9251(0xd8),_0x5e9251(0xf6),_0x5e9251(0x117),_0x5e9251(0x10b),_0x5e9251(0x149),_0x5e9251(0xf2),_0x5e9251(0x169),_0x5e9251(0xc5),'observatory',_0x5e9251(0x14c)];return a0_0x5319=function(){return _0x5371e3;},a0_0x5319();}async function buildXrayWorkerLessConfig(_0x5fe4fb){const _0x436772=a0_0xfa49,_0x2ff455=a0_0x4bf4,_0x494826=buildXrayConfig(_0x5fe4fb,_0x2ff455(0x188),!![],![],![],![],![]);_0x494826[_0x436772(0xc7)]=await buildXrayDNS(_0x5fe4fb,[],undefined,!![]),_0x494826[_0x2ff455(0x17b)][_0x2ff455(0x169)]=buildXrayRoutingRules(_0x5fe4fb,[],![],![],!![],![]);const _0x2f07e1=buildXrayVLESSOutbound(_0x2ff455(0x19a),_0x2ff455(0x1d7),_0x2ff455(0x165),globalThis[_0x2ff455(0x15a)],'google.com',_0x2ff455(0x1d7),'',!![],![]);return delete _0x2f07e1[_0x2ff455(0x1b4)][_0x2ff455(0x1c5)],_0x2f07e1[_0x436772(0x160)]['wsSettings'][_0x2ff455(0x19d)]='/',_0x494826[_0x2ff455(0x14a)][_0x436772(0x121)](_0x2f07e1),_0x494826;}export async function getXrayCustomConfigs(_0x4da33e,_0x14fc83,_0x2c44ff){const _0x37654d=a0_0xfa49,_0x185641=a0_0x4bf4,{proxySettings:_0x154e42}=await getDataset(_0x4da33e,_0x14fc83);let _0x1ac0d9=[],_0x4d75e9=[],_0x370126=[],_0x5aefc1;const {proxyIP:_0x1d5841,outProxy:_0x103915,outProxyParams:_0x3b9cdc,cleanIPs:_0x249a9e,enableIPv6:_0xb75277,customCdnAddrs:_0x34d32d,customCdnHost:_0x5a1044,customCdnSni:_0x586d9f,vlessConfigs:_0xe4a8ee,trojanConfigs:_0x497ce1,ports:_0x501c41}=_0x154e42;if(_0x103915){const _0x2f58e8=JSON[_0x37654d(0x113)](_0x3b9cdc);try{_0x5aefc1=buildXrayChainOutbound(_0x2f58e8,_0xb75277);}catch(_0x14d5fe){console[_0x185641(0x189)](_0x185641(0x148),_0x14d5fe),_0x5aefc1=undefined,await _0x14fc83[_0x185641(0x176)][_0x185641(0x198)](_0x185641(0x17e),JSON[_0x185641(0x18b)]({..._0x154e42,'outProxy':'','outProxyParams':{}}));}}const _0x34302b=await getConfigAddresses(_0x249a9e,_0xb75277),_0x1d10cb=_0x34d32d?_0x34d32d[_0x185641(0x1bd)](','):[],_0x33346a=_0x2c44ff?[..._0x34302b]:[..._0x34302b,..._0x1d10cb],_0x57abe8=_0x501c41[_0x185641(0x1aa)](_0x1baa52=>_0x2c44ff?globalThis[_0x185641(0x16e)][_0x37654d(0x164)](_0x1baa52):!![]);_0xe4a8ee&&_0x370126[_0x185641(0x186)](_0x185641(0x1b3)),_0x497ce1&&_0x370126[_0x185641(0x186)](_0x185641(0x1c7));let _0x1e1034=0x1;for(const _0x22addc of _0x370126){let _0x299e94=0x1;for(const _0x2e8c96 of _0x57abe8){for(const _0x51b53e of _0x33346a){const _0x37034c=_0x1d10cb[_0x185641(0x160)](_0x51b53e),_0x1ed828=_0x37034c?'C':_0x2c44ff?'F':'',_0x2957d1=_0x37034c?_0x586d9f:randomUpperCase(globalThis[_0x37654d(0x149)]),_0x11e039=_0x37034c?_0x5a1044:globalThis[_0x185641(0x149)],_0x15ac54=generateRemark(_0x299e94,_0x2e8c96,_0x51b53e,_0x249a9e,_0x22addc,_0x1ed828),_0x2e5624=buildXrayConfig(_0x154e42,_0x15ac54,_0x2c44ff,![],_0x5aefc1,![],![]);_0x2e5624[_0x185641(0x1cf)]=await buildXrayDNS(_0x154e42,[_0x51b53e],undefined),_0x2e5624['routing'][_0x37654d(0x143)]=buildXrayRoutingRules(_0x154e42,[_0x51b53e],_0x5aefc1,![],![],![]);const _0x1c57f1=_0x22addc===_0x37654d(0x139)?buildXrayVLESSOutbound(_0x185641(0x1d2),_0x51b53e,_0x2e8c96,_0x11e039,_0x2957d1,_0x1d5841,_0x2c44ff,_0x37034c,_0xb75277):buildXrayTrojanOutbound(_0x185641(0x1d2),_0x51b53e,_0x2e8c96,_0x11e039,_0x2957d1,_0x1d5841,_0x2c44ff,_0x37034c,_0xb75277);_0x2e5624['outbounds'][_0x37654d(0x131)]({..._0x1c57f1}),_0x1c57f1[_0x37654d(0xd7)]=_0x185641(0x162)+_0x1e1034;if(_0x5aefc1){_0x2e5624[_0x185641(0x14a)][_0x185641(0x166)](_0x5aefc1);const _0x5c7cc0=structuredClone(_0x5aefc1);_0x5c7cc0[_0x185641(0x181)]=_0x185641(0x1e6)+_0x1e1034,_0x5c7cc0[_0x185641(0x1b4)]['sockopt'][_0x185641(0x1b9)]=_0x37654d(0xfd)+_0x1e1034,_0x4d75e9[_0x185641(0x186)](_0x5c7cc0);}_0x4d75e9[_0x185641(0x186)](_0x1c57f1),_0x1ac0d9[_0x185641(0x186)](_0x2e5624),_0x1e1034++,_0x299e94++;}}}const _0x5c167c=await buildXrayBestPingConfig(_0x154e42,_0x33346a,_0x5aefc1,_0x4d75e9,_0x2c44ff),_0x22eeeb=[..._0x1ac0d9,_0x5c167c];if(_0x2c44ff){const _0x669d78=await buildXrayBestFragmentConfig(_0x154e42,globalThis['hostName'],_0x5aefc1,_0x4d75e9),_0x34ebbc=await buildXrayWorkerLessConfig(_0x154e42);_0x22eeeb[_0x185641(0x186)](_0x669d78,_0x34ebbc);}return new Response(JSON[_0x185641(0x18b)](_0x22eeeb,null,0x4),{'status':0xc8,'headers':{'Content-Type':_0x185641(0x1dc),'Cache-Control':_0x185641(0x1e0),'CDN-Cache-Control':_0x185641(0x15d)}});}export async function getXrayWarpConfigs(_0x54be35,_0x513335,_0x5284d0){const _0x407a69=a0_0xfa49,_0x455d47=a0_0x4bf4,{proxySettings:_0x28b5af,warpConfigs:_0x566751}=await getDataset(_0x54be35,_0x513335),_0x5736df=[],_0x9cea0e=[],_0x419e48=[],_0x4a2a13=[],{warpEndpoints:_0x95fb5a}=_0x28b5af,_0x3625a6=_0x95fb5a[_0x455d47(0x1bd)](',')[_0x455d47(0x1d4)](_0x592b56=>_0x592b56[_0x455d47(0x1bd)](':')[0x0])[_0x455d47(0x1aa)](_0x20360d=>isDomain(_0x20360d)),_0x1d707f=_0x5284d0===_0x455d47(0x1bb)?_0x455d47(0x13e):'\x20';for(const [_0x17cd10,_0x2a2acc]of _0x95fb5a[_0x455d47(0x1bd)](',')[_0x407a69(0xe8)]()){const _0x546c45=_0x2a2acc[_0x455d47(0x1bd)](':')[0x0],_0x4b2331=buildXrayConfig(_0x28b5af,_0x455d47(0x156)+(_0x17cd10+0x1)+_0x455d47(0x1bc)+_0x1d707f+_0x455d47(0x154),![],![],![],![],!![]),_0x1be5c5=buildXrayConfig(_0x28b5af,_0x455d47(0x156)+(_0x17cd10+0x1)+_0x455d47(0x163)+_0x1d707f+'üåç',![],![],!![],![],!![]);_0x4b2331[_0x455d47(0x1cf)]=_0x1be5c5[_0x407a69(0xc7)]=await buildXrayDNS(_0x28b5af,[_0x546c45],undefined,![],!![]),_0x4b2331[_0x455d47(0x17b)][_0x455d47(0x169)]=buildXrayRoutingRules(_0x28b5af,[_0x546c45],![],![],![],!![]),_0x1be5c5[_0x455d47(0x17b)][_0x455d47(0x169)]=buildXrayRoutingRules(_0x28b5af,[_0x546c45],!![],![],![],!![]);const _0x225ffd=buildXrayWarpOutbound(_0x28b5af,_0x566751,_0x2a2acc,![],_0x5284d0),_0x5aded3=buildXrayWarpOutbound(_0x28b5af,_0x566751,_0x2a2acc,!![],_0x5284d0);_0x4b2331['outbounds'][_0x407a69(0x131)](_0x225ffd),_0x1be5c5[_0x407a69(0xf2)][_0x455d47(0x166)](_0x5aded3,_0x225ffd),_0x5736df[_0x455d47(0x186)](_0x4b2331),_0x9cea0e[_0x455d47(0x186)](_0x1be5c5);const _0x3403be=structuredClone(_0x225ffd);_0x3403be[_0x407a69(0xd7)]=_0x455d47(0x162)+(_0x17cd10+0x1);const _0x32288f=structuredClone(_0x5aded3);_0x32288f[_0x407a69(0xd7)]=_0x455d47(0x1e6)+(_0x17cd10+0x1),_0x32288f[_0x455d47(0x1b4)][_0x455d47(0x1c5)][_0x455d47(0x1b9)]=_0x455d47(0x162)+(_0x17cd10+0x1),_0x419e48[_0x407a69(0x121)](_0x3403be),_0x4a2a13[_0x455d47(0x186)](_0x32288f);}const _0x565a9f=await buildXrayDNS(_0x28b5af,_0x3625a6,undefined,![],!![]),_0x1c8082=buildXrayConfig(_0x28b5af,_0x407a69(0x11b)+_0x1d707f+_0x407a69(0x129),![],!![],![],![],!![]);_0x1c8082[_0x455d47(0x1cf)]=_0x565a9f,_0x1c8082[_0x455d47(0x17b)][_0x455d47(0x169)]=buildXrayRoutingRules(_0x28b5af,_0x3625a6,![],!![],![],!![]),_0x1c8082[_0x455d47(0x14a)][_0x407a69(0x131)](..._0x419e48);const _0x2cda63=buildXrayConfig(_0x28b5af,_0x407a69(0x130)+_0x1d707f+_0x455d47(0x1e4),![],!![],!![],![],!![]);_0x2cda63[_0x455d47(0x1cf)]=_0x565a9f,_0x2cda63[_0x455d47(0x17b)][_0x455d47(0x169)]=buildXrayRoutingRules(_0x28b5af,_0x3625a6,!![],!![],![],!![]),_0x2cda63[_0x455d47(0x14a)][_0x455d47(0x166)](..._0x4a2a13,..._0x419e48);const _0x47e3ba=[..._0x5736df,..._0x9cea0e,_0x1c8082,_0x2cda63];return new Response(JSON[_0x407a69(0x13a)](_0x47e3ba,null,0x4),{'status':0xc8,'headers':{'Content-Type':_0x455d47(0x1dc),'Cache-Control':_0x455d47(0x1e0),'CDN-Cache-Control':_0x455d47(0x15d)}});}const xrayConfigTemp={'remarks':'','log':{'loglevel':a0_0x4a3e4e(0x1d9)},'dns':{},'inbounds':[{'port':0x2a38,'protocol':a0_0x4a3e4e(0x14b),'settings':{'auth':a0_0x4a3e4e(0x15c),'udp':!![],'userLevel':0x8},'sniffing':{'destOverride':[a0_0x11ce76(0xf8),a0_0x4a3e4e(0x180)],'enabled':!![],'routeOnly':!![]},'tag':a0_0x4a3e4e(0x142)},{'port':0x2a39,'protocol':a0_0x4a3e4e(0x1b5),'settings':{'auth':a0_0x4a3e4e(0x15c),'udp':!![],'userLevel':0x8},'sniffing':{'destOverride':[a0_0x4a3e4e(0x1b5),'tls'],'enabled':!![],'routeOnly':!![]},'tag':a0_0x4a3e4e(0x1b0)},{'listen':a0_0x4a3e4e(0x1b8),'port':0x2a65,'protocol':a0_0x4a3e4e(0x1c0),'settings':{'address':a0_0x4a3e4e(0x152),'network':a0_0x4a3e4e(0x1dd),'port':0x35},'tag':a0_0x11ce76(0x135)}],'outbounds':[{'tag':a0_0x4a3e4e(0x1a4),'protocol':a0_0x4a3e4e(0x1b6),'settings':{'fragment':{'packets':'tlshello','length':'','interval':''},'domainStrategy':a0_0x4a3e4e(0x16c)},'streamSettings':{'sockopt':{'tcpKeepAliveIdle':0x1e,'tcpNoDelay':!![]}}},{'protocol':'dns','tag':'dns-out'},{'protocol':a0_0x4a3e4e(0x1b6),'settings':{},'tag':a0_0x4a3e4e(0x170)},{'protocol':a0_0x4a3e4e(0x18c),'settings':{'response':{'type':a0_0x4a3e4e(0x1b5)}},'tag':a0_0x4a3e4e(0x1ce)}],'policy':{'levels':{0x8:{'connIdle':0x12c,'downlinkOnly':0x1,'handshake':0x4,'uplinkOnly':0x1}},'system':{'statsOutboundUplink':!![],'statsOutboundDownlink':!![]}},'routing':{'domainStrategy':a0_0x4a3e4e(0x1c2),'rules':[],'balancers':[{'tag':a0_0x4a3e4e(0x14c),'selector':[a0_0x4a3e4e(0x140)],'strategy':{'type':a0_0x4a3e4e(0x153)}}]},'observatory':{'probeInterval':a0_0x11ce76(0x15c),'probeURL':a0_0x11ce76(0xe5),'subjectSelector':[a0_0x4a3e4e(0x140)],'EnableConcurrency':!![]},'stats':{}};