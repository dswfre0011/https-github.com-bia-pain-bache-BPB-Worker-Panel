function a0_0x17ae(_0x22b239,_0x3ace51){const _0x3d700c=a0_0x3d70();return a0_0x17ae=function(_0x17ae08,_0x4fe1ac){_0x17ae08=_0x17ae08-0x13a;let _0x1851e8=_0x3d700c[_0x17ae08];return _0x1851e8;},a0_0x17ae(_0x22b239,_0x3ace51);}(function(_0x4f55a6,_0x20672a){const _0x5297a1=a0_0x17ae,_0x1758d0=_0x4f55a6();while(!![]){try{const _0x58637d=parseInt(_0x5297a1(0x14f))/0x1+-parseInt(_0x5297a1(0x146))/0x2+-parseInt(_0x5297a1(0x13d))/0x3+parseInt(_0x5297a1(0x164))/0x4+-parseInt(_0x5297a1(0x167))/0x5*(-parseInt(_0x5297a1(0x15c))/0x6)+-parseInt(_0x5297a1(0x159))/0x7+parseInt(_0x5297a1(0x156))/0x8;if(_0x58637d===_0x20672a)break;else _0x1758d0['push'](_0x1758d0['shift']());}catch(_0x1443e8){_0x1758d0['push'](_0x1758d0['shift']());}}}(a0_0x3d70,0xb877d));function a0_0x416c(){const _0x28d672=a0_0x17ae,_0xcd6d51=['socks',_0x28d672(0x14a),_0x28d672(0x141),_0x28d672(0x147),'includes','130864XOKDml',_0x28d672(0x140),_0x28d672(0x15e),_0x28d672(0x144),_0x28d672(0x168),_0x28d672(0x149),_0x28d672(0x160),_0x28d672(0x13c),'6xVVIgH',_0x28d672(0x166),_0x28d672(0x148),_0x28d672(0x15b),_0x28d672(0x15f),'14GLUHVq',_0x28d672(0x162),'forEach',_0x28d672(0x161),_0x28d672(0x153),_0x28d672(0x155),_0x28d672(0x145),'VLESS','&host=',_0x28d672(0x14c),'4347448cfmrZb',_0x28d672(0x157),_0x28d672(0x150),_0x28d672(0x143),'singbox',_0x28d672(0x13b),_0x28d672(0x163),_0x28d672(0x15d),'&eh=Sec-WebSocket-Protocol&ed=2560'];return a0_0x416c=function(){return _0xcd6d51;},a0_0x416c();}(function(_0x55b953,_0x2f8ca7){const _0x53e2fc=a0_0x17ae,_0x16a6ef=a0_0x2e7a,_0x14fb7f=_0x55b953();while(!![]){try{const _0x394dd1=parseInt(_0x16a6ef(0x1a8))/0x1*(-parseInt(_0x16a6ef(0x1b3))/0x2)+-parseInt(_0x16a6ef(0x1af))/0x3*(-parseInt(_0x16a6ef(0x1aa))/0x4)+-parseInt(_0x16a6ef(0x1b9))/0x5*(parseInt(_0x16a6ef(0x1ae))/0x6)+parseInt(_0x16a6ef(0x1bd))/0x7+parseInt(_0x16a6ef(0x1a6))/0x8*(-parseInt(_0x16a6ef(0x1ab))/0x9)+-parseInt(_0x16a6ef(0x1a3))/0xa*(-parseInt(_0x16a6ef(0x1b1))/0xb)+parseInt(_0x16a6ef(0x1ad))/0xc*(parseInt(_0x16a6ef(0x1b2))/0xd);if(_0x394dd1===_0x2f8ca7)break;else _0x14fb7f[_0x53e2fc(0x142)](_0x14fb7f[_0x53e2fc(0x165)]());}catch(_0x4df0ef){_0x14fb7f[_0x53e2fc(0x142)](_0x14fb7f['shift']());}}}(a0_0x416c,0x57d71));function a0_0x3d70(){const _0x39c297=['&encryption=none&host=','http','&fp=randomized&alpn=','2017356htTwUg','shift','431331lbZjmq','131295zMsuTC','4LlWBGG','no-store,\x20no-cache,\x20must-revalidate,\x20proxy-revalidate','length','24CbhAYf','3947412CFUJTg','split','text/plain;charset=utf-8','no-store','156190rRhomr','push','dmxlc3M6Ly8=','userID','2527255CyVBei','1867752DvqlKy','&security=tls&sni=','replace','144yybHNO','client','dHJvamFuOi8v','trojanPassword','?path=/','http/1.1','1407866XDGPTT','hostName','?ed=2560','ðŸ’¦\x20Chain\x20proxy\x20ðŸ”—','&type=ws','&security=none','Trojan','3892560NAMWcl','startsWith','defaultHttpsPorts','1085175KcMiAE','?path=/tr','330rOKqcM','174VLzuvL','match','60331RKispH','2053207QHXqiL','h2,http/1.1'];a0_0x3d70=function(){return _0x39c297;};return a0_0x3d70();}import{getConfigAddresses,generateRemark,randomUpperCase,getRandomPath}from'./helpers';function a0_0x2e7a(_0x1bb764,_0x819b16){const _0x2682a2=a0_0x416c();return a0_0x2e7a=function(_0x3b25c9,_0x7ff6c){_0x3b25c9=_0x3b25c9-0x19e;let _0x2ad1b3=_0x2682a2[_0x3b25c9];return _0x2ad1b3;},a0_0x2e7a(_0x1bb764,_0x819b16);}import{getDataset}from'../kv/handlers';export async function getNormalConfigs(_0x27967e,_0x1e4c72){const _0x6748a6=a0_0x17ae,_0x26ecf=a0_0x2e7a,{proxySettings:_0x97e30}=await getDataset(_0x27967e,_0x1e4c72),{cleanIPs:_0x274652,proxyIP:_0x34703f,ports:_0x18a307,vlessConfigs:_0x306e21,trojanConfigs:_0x1e7ebb,outProxy:_0x1864ca,customCdnAddrs:_0x527717,customCdnHost:_0xd4e348,customCdnSni:_0x3dfec8,enableIPv6:_0x2081e9}=_0x97e30;let _0x51f1d3='',_0x379f92='',_0x3678b7='',_0x31a223=0x1;const _0x3d25c9=await getConfigAddresses(_0x274652,_0x2081e9),_0xab5776=_0x527717?_0x527717[_0x6748a6(0x13e)](','):[],_0x3b0c19=[..._0x3d25c9,..._0xab5776],_0x10a691=globalThis[_0x26ecf(0x1a2)]===_0x26ecf(0x1c1)?_0x6748a6(0x14e):_0x26ecf(0x1ac),_0x49ef59=encodeURIComponent(globalThis[_0x26ecf(0x1bc)]),_0xa4fcad=globalThis['client']===_0x26ecf(0x1c1)?_0x26ecf(0x1a0):encodeURIComponent(_0x6748a6(0x151));_0x18a307[_0x26ecf(0x1b5)](_0xaed07f=>{const _0x2e0882=_0x26ecf;_0x3b0c19[_0x2e0882(0x1b5)]((_0x2176b3,_0x456e77)=>{const _0x6c67fd=a0_0x17ae,_0xfec07e=_0x2e0882,_0x2e04e1=_0x456e77>_0x3d25c9[_0xfec07e(0x1c2)]-0x1,_0x292443=_0x2e04e1?'C':'',_0x7092c7=_0x2e04e1?_0x3dfec8:randomUpperCase(globalThis[_0xfec07e(0x1bf)]),_0x5ba806=_0x2e04e1?_0xd4e348:globalThis[_0xfec07e(0x1bf)],_0x5a0fbe=''+getRandomPath(0x10)+(_0x34703f?'/'+encodeURIComponent(btoa(_0x34703f)):'')+_0xa4fcad,_0x443cbe=encodeURIComponent(generateRemark(_0x31a223,_0xaed07f,_0x2176b3,_0x274652,_0xfec07e(0x1ba),_0x292443)),_0x36d053=encodeURIComponent(generateRemark(_0x31a223,_0xaed07f,_0x2176b3,_0x274652,_0xfec07e(0x1b8),_0x292443)),_0x39684a=globalThis[_0x6c67fd(0x158)][_0xfec07e(0x1a5)](_0xaed07f)?_0xfec07e(0x1a4)+_0x7092c7+_0xfec07e(0x19e)+_0x10a691:_0x6c67fd(0x154);_0x306e21&&(_0x51f1d3+=''+atob(_0xfec07e(0x1c0))+globalThis[_0xfec07e(0x1a9)]+'@'+_0x2176b3+':'+_0xaed07f+_0x6c67fd(0x14d)+_0x5a0fbe+_0xfec07e(0x1b6)+_0x5ba806+_0xfec07e(0x1b7)+_0x39684a+'#'+_0x443cbe+'\x0a'),_0x1e7ebb&&(_0x379f92+=''+atob(_0x6c67fd(0x14b))+_0x49ef59+'@'+_0x2176b3+':'+_0xaed07f+_0x6c67fd(0x15a)+_0x5a0fbe+_0xfec07e(0x1bb)+_0x5ba806+_0xfec07e(0x1b7)+_0x39684a+'#'+_0x36d053+'\x0a'),_0x31a223++;});});if(_0x1864ca){let _0x32d6cb='#'+encodeURIComponent(_0x6748a6(0x152));if(_0x1864ca[_0x26ecf(0x1be)](_0x26ecf(0x1a1))||_0x1864ca[_0x26ecf(0x1be)](_0x26ecf(0x1b4))){const _0x3dd8e3=/^(?:socks|http):\/\/([^@]+)@/,_0x44daca=_0x1864ca[_0x26ecf(0x19f)](_0x3dd8e3),_0x1c967f=_0x44daca?_0x44daca[0x1]:![];_0x3678b7=_0x1c967f?_0x1864ca[_0x26ecf(0x1b0)](_0x1c967f,btoa(_0x1c967f))+_0x32d6cb:_0x1864ca+_0x32d6cb;}else _0x3678b7=_0x1864ca['split']('#')[0x0]+_0x32d6cb;}const _0x4a6a4a=btoa(_0x51f1d3+_0x379f92+_0x3678b7);return new Response(_0x4a6a4a,{'status':0xc8,'headers':{'Content-Type':_0x6748a6(0x13f),'Cache-Control':_0x6748a6(0x13a),'CDN-Cache-Control':_0x26ecf(0x1a7)}});}